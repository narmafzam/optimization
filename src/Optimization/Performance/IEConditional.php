<?php
 namespace Optimization\Performance; class IEConditional extends Common { const IE_PATTERN = "\57\74\41\55\55\134\133\x69\146\133\x5e\134\x5d\x5d\x2a\77\134\x5d\x3e\56\x2a\x3f\74\41\134\x5b\145\x6e\144\151\146\x5c\135\x2d\x2d\x3e\x2f\x69\163"; const OPTIMIZATION_CONDITIONAL = "\74\x21\55\55\x7b\x7b\117\x50\124\x49\x4d\111\x5a\x41\124\111\x4f\116\x5f\x43\117\x4e\104\x49\124\x49\x4f\x4e\101\x4c\x7d\175\55\x2d\x3e"; protected ?array $conditionals = []; public function addFilters() : self { $this->addFilter("\157\160\x74\x69\x6d\x69\172\x61\x74\151\x6f\156\137\x62\x75\x66\x66\145\x72\137\x70\x72\x6f\143\x65\163\163", [$this, "\x65\170\x74\x72\141\143\x74"], 1, 1)->addFilter("\157\x70\x74\x69\x6d\151\x7a\x61\164\x69\x6f\x6e\x5f\142\x75\x66\146\x65\x72\137\160\162\x6f\x63\145\x73\x73", [$this, "\151\x6e\152\x65\x63\x74"], 1, 34); return parent::addFilters(); } public function extract(string $VoLyz) { goto Qy3jO; bDxS1: voA4K: goto B2zi4; cqrEs: foreach ($upoja[0] as $GXBk9) { $this->conditionals[] = $GXBk9; EvWco: } goto bDxS1; B2zi4: $VoLyz = preg_replace(self::IE_PATTERN, self::OPTIMIZATION_CONDITIONAL, $VoLyz); goto c1tBl; Qy3jO: if (!preg_match_all(self::IE_PATTERN, $VoLyz, $upoja)) { goto rowLJ; } goto cqrEs; Xw6kP: return $VoLyz; goto RZixc; c1tBl: rowLJ: goto Xw6kP; RZixc: } public function inject(string $VoLyz) { goto Cv1ix; Cv1ix: if (!$this->hasConditionalTag($VoLyz)) { goto Wd0BJ; } goto Hikdw; Hikdw: foreach ($this->conditionals as $GXBk9) { goto tKht8; qglXB: to9xn: goto wL8Kq; tKht8: if (!preg_match("\100\136\x28\77\74\157\160\145\156\x69\x6e\x67\x3e\x3c\x21\x2d\x2d\x5c\x5b\151\146\133\136\134\135\135\x2a\x3f\x5c\135\76\x5c\x73\52\x3f\x28\77\x3a\x3c\41\55\55\76\x29\77\x5c\163\x2a\74\163\143\x72\151\160\164\x28\77\x3a\134\x73\x5b\136\76\x5d\52\77\x3e\51\51\x5c\163\52\50\77\74\x63\x6f\x6e\x74\145\156\x74\76\x2e\52\77\51\x5c\x73\x2a\x28\77\x3c\x63\154\x6f\163\151\156\x67\x3e\x3c\x2f\x73\143\x72\151\160\164\76\x5c\163\52\50\x3f\72\x3c\41\x2d\55\51\77\134\x73\52\x3f\x3c\41\134\x5b\x65\156\x64\151\x66\x5c\x5d\55\55\x3e\x29\x24\x40\x69\163", $GXBk9, $upoja)) { goto to9xn; } goto VwRUt; VwRUt: $GXBk9 = $upoja["\157\x70\145\156\151\x6e\147"] . preg_replace("\43\50\77\74\41\x5c\134\51\x28\x5c\x24\174\134\x5c\x29\43", "\x5c\x5c\44\x31", $upoja["\x63\x6f\x6e\164\145\156\x74"]) . $upoja["\x63\x6c\x6f\163\151\156\x67"]; goto qglXB; fUNMS: DyPp7: goto rGrzO; wL8Kq: $VoLyz = $this->replaceConditionalTag($VoLyz, $GXBk9); goto fUNMS; rGrzO: } goto WlZBJ; EqoJk: Wd0BJ: goto JxELy; WlZBJ: HgAEd: goto EqoJk; JxELy: return $VoLyz; goto Lfehb; Lfehb: } private function hasConditionalTag(string $VoLyz) { return false !== strpos($VoLyz, self::OPTIMIZATION_CONDITIONAL); } private function replaceConditionalTag(string $VoLyz, string $Lu_9j) { $aBhsq = strpos($VoLyz, self::OPTIMIZATION_CONDITIONAL); return substr_replace($VoLyz, $Lu_9j, $aBhsq, strlen(self::OPTIMIZATION_CONDITIONAL)); } }
