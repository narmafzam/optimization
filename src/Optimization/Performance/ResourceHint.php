<?php
 namespace Optimization\Performance; use Boilerplate\DOMCrawler; use Boilerplate\Util\StringUtil; use Boilerplate\Util\ThemeUtil; use Optimization\Util\Util; use DOMElement; class ResourceHint extends Common { const IMAGE_PRELOAD_ATTRS = array("\x69\155\141\x67\145\x73\x72\143\x73\x65\164" => "\x73\x72\x63\163\145\x74", "\151\x6d\x61\147\145\x73\x69\x7a\145\163" => "\x73\x69\172\x65\x73", "\x68\162\145\146" => "\163\x72\143"); public function addActions() : self { $this->addAction("\x77\x70\x5f\150\x65\x61\x64", [$this, "\160\x72\x65\154\x6f\141\144\x46\x6f\x6e\164\x73"], 0, 50); return parent::addActions(); } public function addFilters() : self { $this->addFilter("\x77\x70\x5f\x72\x65\163\x6f\x75\x72\x63\x65\137\150\151\156\164\163", [$this, "\x72\x65\163\157\165\162\143\145\x48\x69\156\x74"], 2)->addFilter("\x6f\x70\164\x69\155\x69\x7a\141\164\151\157\156\x5f\142\x75\146\x66\x65\x72\137\x70\162\157\x63\x65\x73\163", [$this, "\x70\162\145\x6c\x6f\x61\x64\x49\155\x61\x67\x65\x73"]); return parent::addFilters(); } public function preloadImages($vwY7Y) { goto xJgnu; Ji84V: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $C2Sin, function (DOMElement $oMvxH) use(&$Anmgn) { goto deHMH; aTtOw: $Lh3fh["\x61\x73"] = "\151\155\x61\147\145"; goto NbLky; TCz6H: return true; goto LHoR4; zmVBH: foreach (self::IMAGE_PRELOAD_ATTRS as $ag6pP => $eFGi4) { goto hnnfR; IB0Cy: $Lh3fh[$ag6pP] = $b8HPW; goto YLCVw; hnnfR: $b8HPW = $oMvxH->getAttribute($eFGi4); goto dw1Zm; dw1Zm: if (!$b8HPW) { goto rPx3G; } goto IB0Cy; YLCVw: rPx3G: goto lDjJv; lDjJv: m38Tk: goto PLsFZ; PLsFZ: } goto jWVZv; jWVZv: kUY5r: goto vSbf4; deHMH: $Lh3fh = []; goto zmVBH; MKfpV: fq8q4: goto TCz6H; NbLky: $Lh3fh["\162\145\154"] = "\x70\x72\145\154\157\141\144"; goto JWsX8; JWsX8: $Anmgn[] = ThemeUtil::generateElement("\154\151\156\x6b", $Lh3fh); goto MKfpV; vSbf4: if (!$Lh3fh) { goto fq8q4; } goto aTtOw; LHoR4: }, 6, false); goto NKymw; NKymw: lBOys: goto Dg_r8; ox9Gv: $Anmgn = implode('', $Anmgn); goto FXYdg; Y8Nec: ICX2m: goto gBQ8y; cIOn5: if (!DOMCrawler::has($vwY7Y, $C2Sin)) { goto lBOys; } goto Ji84V; gBQ8y: return $vwY7Y; goto AbpwH; Dg_r8: if (!$Anmgn) { goto ICX2m; } goto ox9Gv; xJgnu: $Anmgn = []; goto zP16f; FXYdg: $vwY7Y = StringUtil::replaceFirst("\x3c\x2f\x68\145\x61\x64\x3e", "{$Anmgn}\x3c\x2f\150\x65\141\x64\76", $vwY7Y); goto Y8Nec; zP16f: $C2Sin = $this->applyFilters("\x6f\x70\164\151\x6d\x69\x7a\141\164\151\157\156\x5f\160\x65\162\146\x6f\x72\x6d\x61\x6e\x63\x65\x5f\162\x65\163\x6f\165\162\143\x65\137\150\x69\156\164\x5f\x69\155\141\x67\x65\137\x70\162\145\154\x6f\x61\144\x5f\x73\x65\x6c\145\x63\x74\157\162", "\151\x6d\147"); goto cIOn5; AbpwH: } public function preloadFonts() { goto eR4WA; kuVQC: ty0wz: goto UKSax; bKLLJ: foreach ($VkXoD as $RV4Bp) { echo ThemeUtil::generateElement("\x6c\x69\x6e\x6b", ["\x72\x65\x6c" => "\x70\162\x65\154\157\141\x64", "\150\x72\x65\146" => $RV4Bp["\x75\162\154"], "\141\163" => "\146\157\156\x74", "\164\171\160\145" => "\146\x6f\156\164\57{$RV4Bp["\146\157\162\155\x61\x74"]}", "\x63\162\157\163\163\x6f\162\x69\147\151\156"]); hKfYW: } goto kuVQC; eR4WA: $VkXoD = (array) apply_filters("\157\160\x74\151\155\x69\x7a\x61\164\151\x6f\156\137\x70\x65\162\146\157\x72\155\x61\x6e\143\145\x5f\x72\145\163\x6f\165\162\x63\145\x5f\x68\151\x73\x74\x5f\146\157\x6e\164\163", []); goto bKLLJ; UKSax: } public function resourceHint($SwWtE, $NGeWi) { goto F6g34; F6g34: if (Util::getConstant("\104\117\116\x54\137\120\x45\x52\x46\117\x52\x4d\101\116\103\105\x5f\x4f\120\x54\111\115\111\x5a\x45")) { goto aeUC0; } goto F7LdX; F7LdX: switch ($NGeWi) { case "\x70\162\x65\x63\x6f\x6e\156\x65\143\164": case "\x64\x6e\163\55\160\162\x65\x66\145\164\143\150": goto BbKKS; uAmEt: foreach ($vt65L as $RzDss) { goto i5EMk; BT4Iw: J7sI1: goto IS4ER; IS4ER: yMmup: goto qapYm; i5EMk: if (!$RzDss) { goto J7sI1; } goto bSswD; bSswD: $SwWtE[] = ["\x68\x72\145\146" => $RzDss, "\143\x72\x6f\x73\163\x6f\x72\x69\x67\x69\x6e"]; goto BT4Iw; qapYm: } goto EJIIt; b2JTC: $vt65L = (array) $this->applyFilters("\x6f\160\164\151\x6d\151\x7a\141\164\151\157\x6e\137\x70\145\x72\x66\x6f\x72\155\141\156\x63\145\137\x72\145\163\x6f\x75\x72\143\145\137\x68\x69\156\164", []); goto uAmEt; CQcgj: vyniW: goto b2JTC; rSV4b: $SwWtE = $this->removeEmojiDnsPrefetch($SwWtE); goto CQcgj; BbKKS: if (!($NGeWi == "\x64\x6e\163\x2d\160\162\145\146\x65\x74\143\x68")) { goto vyniW; } goto rSV4b; l_GB2: goto Zorti; goto AnnFH; EJIIt: NE5KB: goto l_GB2; AnnFH: } goto UNxFW; uQxns: Zorti: goto t39jh; t39jh: aeUC0: goto uHZhf; uHZhf: return $SwWtE; goto pmVqe; UNxFW: lLHYw: goto uQxns; pmVqe: } public static function removeEmojiDnsPrefetch($SwWtE) { $SwWtE = array_diff(wp_dependencies_unique_hosts(), $SwWtE); return $SwWtE; } }
