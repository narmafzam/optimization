<?php
 namespace Optimization\Performance; use Boilerplate\DOMCrawler; use Boilerplate\Util\StringUtil; use Boilerplate\Util\ThemeUtil; use Optimization\Util\Util; use DOMElement; class ResourceHint extends Common { const IMAGE_PRELOAD_ATTRS = array("\x69\x6d\x61\x67\x65\x73\x72\143\163\x65\164" => "\x73\x72\143\x73\145\164", "\151\x6d\x61\147\x65\x73\151\x7a\145\x73" => "\x73\x69\172\145\x73", "\150\x72\x65\146" => "\x73\x72\x63"); public function addActions() : self { $this->addAction("\x77\x70\137\150\x65\x61\144", [$this, "\160\x72\145\x6c\x6f\141\144\x46\x6f\x6e\x74\x73"], 0, 50); return parent::addActions(); } public function addFilters() : self { $this->addFilter("\167\x70\137\x72\x65\163\157\x75\162\x63\145\137\x68\x69\156\164\163", [$this, "\162\x65\x73\x6f\165\162\x63\x65\x48\151\x6e\164"], 2)->addFilter("\157\160\x74\x69\x6d\x69\x7a\141\x74\x69\157\x6e\137\x62\165\x66\x66\145\x72\x5f\160\x72\157\143\145\163\163", [$this, "\x70\x72\145\154\x6f\141\x64\x49\x6d\x61\147\145\163"]); return parent::addFilters(); } public function preloadImages($vwY7Y) { goto y4x57; QvNiM: xDUoS: goto ccoXV; YQeBj: hb_zn: goto e1yEr; Xr6p3: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $C2Sin, function (DOMElement $oMvxH) use(&$Anmgn) { goto ctOmu; gG9s5: return true; goto bnVwg; ePabL: $Anmgn[] = ThemeUtil::generateElement("\154\151\x6e\153", $Lh3fh); goto ySLrO; ebTDn: foreach (self::IMAGE_PRELOAD_ATTRS as $ag6pP => $eFGi4) { goto ss0ny; jV6y4: upXQs: goto EQU7P; Iqk0k: $Lh3fh[$ag6pP] = $b8HPW; goto jV6y4; E_h3f: if (!$b8HPW) { goto upXQs; } goto Iqk0k; ss0ny: $b8HPW = $oMvxH->getAttribute($eFGi4); goto E_h3f; EQU7P: MJOR9: goto rwonr; rwonr: } goto LEkkg; ySLrO: wCDEG: goto gG9s5; ctOmu: $Lh3fh = []; goto ebTDn; nd2eF: if (!$Lh3fh) { goto wCDEG; } goto piSHj; LEkkg: k8O52: goto nd2eF; piSHj: $Lh3fh["\141\163"] = "\151\155\141\x67\145"; goto ddzZc; ddzZc: $Lh3fh["\162\x65\154"] = "\160\x72\145\x6c\x6f\141\x64"; goto ePabL; bnVwg: }, 6, false); goto YQeBj; gLSms: if (!DOMCrawler::has($vwY7Y, $C2Sin)) { goto hb_zn; } goto Xr6p3; ccoXV: return $vwY7Y; goto zr409; y4x57: $Anmgn = []; goto mpHs8; jCrHj: $Anmgn = implode('', $Anmgn); goto mqEwV; mqEwV: $vwY7Y = StringUtil::replaceFirst("\x3c\x2f\x68\x65\x61\144\76", "{$Anmgn}\74\x2f\150\x65\141\144\x3e", $vwY7Y); goto QvNiM; mpHs8: $C2Sin = $this->applyFilters("\x6f\x70\164\x69\x6d\x69\172\141\164\151\157\156\137\160\145\162\x66\157\x72\x6d\x61\x6e\143\x65\137\x72\145\163\157\165\162\143\x65\137\150\151\156\164\137\151\x6d\141\147\145\x5f\160\x72\x65\x6c\157\141\x64\137\163\x65\154\x65\x63\x74\x6f\x72", "\x69\x6d\x67"); goto gLSms; e1yEr: if (!$Anmgn) { goto xDUoS; } goto jCrHj; zr409: } public function preloadFonts() { goto ApEHe; LsTHg: foreach ($VkXoD as $RV4Bp) { echo ThemeUtil::generateElement("\x6c\151\x6e\153", ["\162\x65\x6c" => "\x70\x72\145\x6c\x6f\141\144", "\150\x72\x65\146" => $RV4Bp["\x75\x72\154"], "\x61\163" => "\146\x6f\156\x74", "\164\171\160\145" => "\x66\x6f\x6e\x74\x2f{$RV4Bp["\146\x6f\x72\155\141\164"]}", "\x63\162\157\163\163\157\x72\x69\147\x69\x6e"]); H763U: } goto c2Bap; ApEHe: $VkXoD = (array) apply_filters("\x6f\160\164\x69\x6d\151\x7a\141\164\x69\157\x6e\x5f\x70\x65\162\146\x6f\162\x6d\141\156\143\x65\137\162\145\x73\157\x75\x72\143\145\x5f\x68\151\163\x74\x5f\x66\x6f\x6e\x74\163", []); goto LsTHg; c2Bap: mRDIj: goto cYmRx; cYmRx: } public function resourceHint($SwWtE, $NGeWi) { goto hzk83; WkjCU: switch ($NGeWi) { case "\160\162\145\x63\157\156\x6e\145\143\x74": case "\x64\x6e\163\x2d\160\x72\x65\146\x65\164\x63\x68": goto rRNGD; U3CZD: hg3N2: goto VBAM9; iinjl: lQuL0: goto irBHo; mWMF1: foreach ($vt65L as $RzDss) { goto IL2w_; xwuml: c2DAg: goto eTrxP; eTrxP: C5WKx: goto RvNEV; IL2w_: if (!$RzDss) { goto c2DAg; } goto CYXj4; CYXj4: $SwWtE[] = ["\150\x72\145\x66" => $RzDss, "\143\x72\157\163\x73\157\x72\151\x67\151\x6e"]; goto xwuml; RvNEV: } goto U3CZD; VBAM9: goto O5YkB; goto tglqU; irBHo: $vt65L = (array) $this->applyFilters("\157\160\164\151\x6d\x69\172\141\x74\151\157\x6e\137\x70\x65\162\146\157\x72\155\x61\156\143\145\x5f\162\145\x73\157\165\162\143\x65\137\x68\x69\156\164", []); goto mWMF1; rRNGD: if (!($NGeWi == "\x64\x6e\163\55\160\162\x65\146\x65\x74\x63\150")) { goto lQuL0; } goto dn2tV; dn2tV: $SwWtE = $this->removeEmojiDnsPrefetch($SwWtE); goto iinjl; tglqU: } goto ot5DK; hzk83: if (Util::getConstant("\104\117\116\x54\x5f\x50\105\x52\106\117\x52\x4d\101\x4e\x43\x45\x5f\x4f\120\x54\111\115\111\132\x45")) { goto U04cq; } goto WkjCU; cO6Xp: return $SwWtE; goto fwmLM; zT5qy: O5YkB: goto c8fjw; c8fjw: U04cq: goto cO6Xp; ot5DK: N0kmN: goto zT5qy; fwmLM: } public static function removeEmojiDnsPrefetch($SwWtE) { $SwWtE = array_diff(wp_dependencies_unique_hosts(), $SwWtE); return $SwWtE; } }
