<?php
 namespace Optimization\Performance; use Boilerplate\DOMCrawler; use Boilerplate\Util\CommonUtil; use Boilerplate\Util\ThemeUtil; use DOMElement; use Optimization\Notice; use Optimization\Util\Util; class Merge extends Common { public function __construct() { goto YmiEx; YmiEx: if (!$this->loadConstant()) { goto D1uXf; } goto zuc7x; rhstA: D1uXf: goto X50AT; zuc7x: parent::__construct(); goto rhstA; X50AT: } public function addFilters() : self { $this->addFilter("\157\x70\164\x69\x6d\151\x7a\141\x74\151\x6f\x6e\137\x62\165\146\x66\x65\x72\137\x70\162\157\x63\x65\x73\x73", [$this, "\160\141\x63\x6b\123\x74\171\x6c\x65\x73\x68\145\x65\x74\163"], 1, 0)->addFilter("\x6f\160\164\151\155\x69\x7a\x61\x74\151\x6f\156\137\x62\x75\x66\x66\x65\x72\137\160\162\x6f\143\145\x73\163", [$this, "\160\141\x63\x6b\123\x63\x72\151\x70\164\x73"], 1, 0); return parent::addFilters(); } public function loadConstant() { goto NvBEG; SN7WO: define("\117\120\124\x49\x4d\x49\132\101\124\111\x4f\x4e\x5f\x4d\x45\122\x47\105\x5f\x50\101\124\110", "{$GuTuU}\x2f\x6d\145\x72\147\145"); goto wLp3w; v0CjV: Notice::warning(sprintf(__("\45\163\x20\143\157\x6e\x73\x74\x61\156\164\40\x6e\x6f\x74\40\144\145\x66\x69\x6e\145\x64\x2c\x20\160\154\145\141\163\x65\40\x64\x65\x66\151\x6e\145\x20\x74\150\x61\164\40\151\156\40\x77\160\55\143\x6f\156\146\151\x67\56\160\x68\x70\x2e", OPTIMIZATION_DOMAIN), "\74\x63\157\144\x65\x3e\127\x50\x5f\x43\x41\103\x48\105\137\120\x41\124\110\x3c\57\x63\x6f\144\145\x3e")); goto l0aaL; JZLej: ZWI96: goto SN7WO; fIaMB: return $pHq9s; goto M_4Jq; l0aaL: goto C9Nio; goto JZLej; NvBEG: $pHq9s = false; goto HEO1N; wLp3w: $pHq9s = $this->getFilesystem()->mkdir(OPTIMIZATION_MERGE_PATH); goto TuiSk; HEO1N: if ($GuTuU = Util::getConstant("\127\120\x5f\x43\101\103\x48\105\x5f\120\x41\x54\110")) { goto ZWI96; } goto v0CjV; TuiSk: C9Nio: goto fIaMB; M_4Jq: } public function packScripts($vwY7Y) { return $vwY7Y; } public function packStylesheets($vwY7Y) { goto h7bn2; yPCSQ: $vwY7Y = DOMCrawler::removeElements($vwY7Y, "\133\x64\141\164\x61\55\155\x65\162\x67\145\x64\75\x31\x5d"); goto I9Awq; UEwY8: $vwY7Y = str_replace("\74\57\150\145\x61\144\x3e", "{$uL8fN}\74\57\x68\145\141\144\76", $vwY7Y); goto sbfWb; sbfWb: HFZkw: goto HzQcX; kL01g: return $vwY7Y; goto cyVL2; I9Awq: $uL8fN = ThemeUtil::generateElement("\x6c\x69\x6e\x6b", ["\x68\x72\145\146" => $hgTz4, "\x72\145\x6c" => "\163\x74\x79\x6c\x65\163\x68\x65\x65\x74", "\151\144" => $EOJKs], false); goto UEwY8; h7bn2: $QHtFv = $this->getAssetsContent($vwY7Y, "\x6c\x69\156\153\133\x72\145\x6c\x3d\x73\x74\171\x6c\145\x73\x68\x65\145\x74\x5d", $EOJKs); goto ovRc8; HzQcX: EF9c0: goto kL01g; TnpdI: if (!($hgTz4 = $this->createFile("{$EOJKs}\56\x63\163\x73", $QHtFv))) { goto HFZkw; } goto yPCSQ; ovRc8: if (!$QHtFv) { goto EF9c0; } goto TnpdI; cyVL2: } public function getAssetsContent(&$vwY7Y, $C2Sin, &$FaQSt = null) { goto xJ7GJ; iIZeA: $yb0zb = $this->getFilesystem(); goto On2lY; JQ7u9: $hOMMz = [CommonUtil::getConstant("\127\120\x5f\x43\x4f\116\124\x45\x4e\x54\x5f\x44\x49\122") => site_url() . "\57\x77\160\x2d\x63\157\156\164\145\x6e\x74", CommonUtil::getConstant("\x41\x42\x53\x50\x41\124\x48") . $qWwmN => site_url() . "\57{$qWwmN}"]; goto S1DO2; NvEt6: sort($FaQSt); goto kfcql; kfcql: $FaQSt = md5(implode('', $FaQSt)); goto iIZeA; xJ7GJ: $Lwbqq = []; goto Pp7zO; jUVeM: gKLeA: goto yAZr9; On2lY: foreach ($Lwbqq as $GuTuU) { $B6fu9 .= $yb0zb->getContent($GuTuU); P1pE4: } goto NBKcF; yAZr9: return $B6fu9; goto v_Qs1; Pp7zO: $qWwmN = CommonUtil::getConstant("\127\x50\x49\x4e\103"); goto JQ7u9; NBKcF: oTAXd: goto jUVeM; SmApn: $B6fu9 = ''; goto L2z0I; L2z0I: $ROkvQ = (int) $this->applyFilters("\157\x70\x74\151\155\151\172\x61\x74\x69\157\x6e\137\x70\x65\x72\x66\157\162\x6d\x61\156\x63\145\137\155\x65\162\147\145\x5f\x74\x68\162\x65\163\x68\x6f\154\144", 2); goto xQOLq; Cvw3W: $FaQSt = array_map("\142\141\x73\145\x6e\x61\x6d\x65", $Lwbqq); goto NvEt6; S1DO2: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $C2Sin, function (DOMElement $oMvxH) use(&$Lwbqq, $hOMMz) { goto PUt79; aAKT9: foreach ($hOMMz as $GuTuU => $XKqYs) { goto Bf2IZ; YZpJd: $Lwbqq[] = str_replace($hOMMz, $GuTuU, $ag6pP); goto GAesA; RzVZ5: Iq9nT: goto cNsS4; Bf2IZ: if (!(strpos($ag6pP, $XKqYs) !== false)) { goto TvBOG; } goto YZpJd; GAesA: $oMvxH->setAttribute("\x64\141\x74\x61\55\155\145\162\x67\145\144", 1); goto kb4ZD; kb4ZD: TvBOG: goto RzVZ5; cNsS4: } goto n0q53; PUt79: $ag6pP = $oMvxH->getAttribute("\150\x72\x65\x66"); goto jvC25; n0q53: CzYA6: goto MNxN1; jvC25: if (!$ag6pP) { goto KGbmf; } goto aAKT9; HGMbr: return $oMvxH; goto Q741e; MNxN1: KGbmf: goto HGMbr; Q741e: }); goto SmApn; xQOLq: if (!(count($Lwbqq) > $ROkvQ)) { goto gKLeA; } goto Cvw3W; v_Qs1: } public function createFile($EOJKs, $B6fu9) { goto dPzIQ; CrLM7: yX5yb: goto vM7Nr; Zob_c: if (!($tvPcG && ($this->getFilesystem()->exists($D2KXr) || $this->getFilesystem()->putContent($D2KXr, $B6fu9)))) { goto YJbLK; } goto mH334; Mqo9X: if (!($EOJKs && $GuTuU)) { goto yX5yb; } goto GENur; kFElT: $D2KXr = "{$GuTuU}\x2f{$EOJKs}"; goto Zob_c; KkLOO: YJbLK: goto CrLM7; GENur: $tvPcG = CommonUtil::getConstant("\x57\120\x5f\103\x4f\116\x54\105\116\x54\x5f\x44\x49\122"); goto kFElT; vM7Nr: return $hgTz4; goto hbK7z; mnhGq: $hgTz4 = false; goto Mqo9X; mH334: $hgTz4 = content_url() . str_replace($tvPcG, '', $D2KXr); goto KkLOO; dPzIQ: $GuTuU = CommonUtil::getConstant("\117\x50\x54\111\115\x49\x5a\101\x54\x49\x4f\116\137\115\105\122\x47\x45\x5f\x50\x41\x54\110"); goto mnhGq; hbK7z: } }
