<?php
 namespace Optimization\Performance; use Boilerplate\DOMCrawler; use Boilerplate\Util\ArrayUtil; use Boilerplate\Util\UserUtil; use DOMElement; use Optimization\Util\FormatUtil; use Optimization\Util\Util; use WP_Scripts; class Resource extends Common { public function removeActions() : self { $this->removeAction("\167\160\x5f\160\162\x69\x6e\x74\137\163\164\171\154\145\163", "\x70\x72\x69\156\x74\x5f\145\155\157\152\151\x5f\x73\x74\171\154\x65\x73")->removeAction("\x61\144\x6d\x69\x6e\x5f\160\162\x69\x6e\x74\137\x73\x74\171\154\145\x73", "\x70\x72\x69\156\x74\x5f\x65\x6d\x6f\152\151\x5f\163\x74\171\x6c\x65\x73")->removeAction("\167\x70\137\150\x65\141\x64", "\160\x72\151\x6e\164\137\145\x6d\x6f\x6a\151\x5f\144\145\164\x65\x63\164\x69\157\x6e\137\x73\x63\162\x69\x70\164", 7)->removeAction("\141\x64\155\x69\156\x5f\160\162\x69\x6e\x74\137\x73\x63\x72\x69\160\164\163", "\x70\x72\151\156\x74\x5f\x65\x6d\157\152\151\x5f\144\145\x74\145\143\164\151\157\156\137\x73\143\x72\151\160\x74"); return parent::removeActions(); } public function addActions() : self { $this->addAction("\x77\x70\137\145\x6e\x71\x75\145\x75\145\x5f\163\x63\162\x69\160\164\x73", [$this, "\x64\x65\x71\x75\x65\165\x65\101\163\163\x65\x74\x73"], 0, 999); return parent::addActions(); } public function addFilters() : self { $this->addFilter("\x73\x74\x79\154\x65\x5f\154\x6f\141\x64\x65\x72\x5f\x73\162\143", [$this, "\x72\x65\155\157\166\145\126\x65\x72\x73\151\157\x6e"], 1, 9999)->addFilter("\163\x63\x72\x69\x70\x74\137\x6c\157\x61\x64\145\162\x5f\163\x72\x63", [$this, "\162\x65\155\x6f\x76\x65\126\x65\162\163\x69\157\156"], 1, 9999)->addFilter("\157\x70\164\x69\155\x69\172\141\164\x69\157\156\137\x62\165\146\146\145\162\x5f\x70\x72\x6f\x63\x65\x73\x73", [$this, "\x6c\141\x7a\x79\x4c\157\141\144\101\163\x73\145\164\163"], 1, 24)->addFilter("\x6f\160\164\151\x6d\x69\x7a\x61\x74\x69\x6f\156\137\142\x75\x66\x66\x65\162\x5f\x70\162\157\x63\x65\163\163", [$this, "\x64\145\146\x65\x72\x4a\x61\x76\x61\x73\143\x72\151\x70\x74"], 1, 99999)->addFilter("\x6f\160\x74\151\155\x69\172\x61\x74\151\157\156\x5f\142\x75\146\x66\145\162\137\160\x72\157\143\145\163\x73", [$this, "\162\x65\x6d\157\x76\x65\x54\171\160\145\x41\x74\x74\162\151\x62\165\164\x65"], 1, 25)->addFilter("\142\x6f\x69\154\145\162\160\x6c\141\x74\x65\137\x61\163\163\145\x74\137\x69\156\x6c\x69\156\145\x5f\x6a\x61\x76\x61\163\143\x72\x69\160\x74", [$this, "\x61\x64\144\111\156\154\x69\x6e\145\112\x73"], 1, 9999); return parent::addFilters(); } public function dequeueAssets() { goto ujS04; sKfH8: g2656: goto ib6al; MGoMh: wp_deregister_script("\x77\160\55\145\x6d\142\145\x64"); goto znQyi; ujS04: if (UserUtil::isUserLoggedIn()) { goto g2656; } goto Km3Uu; JnQOy: wp_deregister_script("\x73\x74\171\x6c\x65"); goto sKfH8; H__Dn: wp_deregister_style("\144\141\163\150\x69\143\x6f\156\x73"); goto U7DjH; znQyi: wp_dequeue_script("\163\164\x79\x6c\145"); goto JnQOy; xsYO6: wp_dequeue_script("\x77\x70\55\x65\155\142\145\x64"); goto MGoMh; Km3Uu: wp_dequeue_style("\144\x61\163\x68\x69\143\157\x6e\x73"); goto H__Dn; U7DjH: wp_dequeue_style("\x73\x65\x6c\x65\143\164\62"); goto aEwQO; aEwQO: wp_deregister_style("\x73\145\154\x65\x63\164\x32"); goto xsYO6; ib6al: } public function addInlineJs($SIERD) { goto D4Dgz; FnM5Z: mEKdT: goto IwdzW; IwdzW: return $SIERD; goto tx6GO; svUNi: if (!$vpza6) { goto mEKdT; } goto hRAbW; D4Dgz: $vpza6 = $this->renderTwigTemplate("\154\x61\x7a\171\154\157\x61\144\56\152\x73", ["\151\163\137\141\x64\x6d\151\x6e" => is_admin()]); goto svUNi; hRAbW: $SIERD[] = $vpza6; goto FnM5Z; tx6GO: } private function isAllowed() { return !Util::getConstant("\x44\117\116\x54\137\x50\105\x52\106\x4f\122\115\x41\x4e\103\105\137\117\x50\x54\111\x4d\111\132\105", false); } public function removeVersion($iSNOk) { goto P2obL; dt5mL: B9a8o: goto GHELw; rKKAw: $iSNOk = remove_query_arg("\166\x65\162", $iSNOk); goto dt5mL; P2obL: if (!strpos($iSNOk, "\x76\x65\162\x3d")) { goto B9a8o; } goto rKKAw; GHELw: return $iSNOk; goto J5yDb; J5yDb: } public function getExcludeDeferJs() { goto vBVLF; dxYAW: $HLuTK[] = $rDlc4; goto SA0LL; QUvI5: foreach ($HLuTK as $VuHLh => $V6XZ0) { $HLuTK[$VuHLh] = str_replace("\43", "\x5c\x23", $V6XZ0); SXll4: } goto WOepE; xjWCw: $HLuTK[] = FormatUtil::cleanExcludeFile($ipqzq); goto YSCQY; KOAKE: $rDlc4 = "\141\x6a\x61\170\x2e\x67\x6f\157\147\x6c\145\x61\x70\x69\163\x2e\143\157\x6d\x2f\x61\x6a\141\170\x2f\x6c\x69\x62\163\x2f\x6a\x71\165\145\x72\x79\x2f\50\x3f\72\x2e\x2b\51\x2f\152\161\x75\x65\x72\x79\50\x3f\x3a\134\x2e\155\x69\156\51\77\x2e\152\x73"; goto xjWCw; TwGj0: $HLuTK = $this->applyFilters("\x6f\x70\x74\151\155\151\172\x61\x74\151\x6f\x6e\137\x70\145\x72\x66\157\162\155\141\156\143\145\x5f\x72\145\163\157\165\x72\143\145\x5f\145\x78\x63\x6c\165\x64\x65\x5f\144\x65\x66\x65\162\137\x6a\x73", $HLuTK); goto QUvI5; xz4Hz: $PwQlC = "\x63\x64\156\152\x73\x2e\x63\x6c\x6f\165\144\x66\154\x61\x72\x65\56\x63\157\155\57\x61\152\x61\170\57\x6c\151\x62\x73\x2f\x6a\161\165\x65\x72\171\57\50\77\x3a\56\x2b\x29\57\152\161\165\x65\162\171\50\x3f\x3a\x5c\x2e\155\151\x6e\x29\77\56\152\x73"; goto C1rG0; TNGy7: $lMf2v = "\x63\x30\56\167\x70\56\143\x6f\x6d\x2f\143\57\50\77\x3a\x2e\53\x29\57\167\x70\x2d\151\x6e\143\154\165\x64\x65\x73\x2f\x6a\x73\57\x6a\x71\165\x65\x72\171\57\152\161\165\145\x72\171\x2e\152\x73"; goto KOAKE; h7pza: return $HLuTK; goto qx0F0; YSCQY: $HLuTK[] = $lMf2v; goto dxYAW; vBVLF: $HLuTK = ["\x67\151\x73\164\x2e\147\151\x74\150\165\x62\x2e\143\x6f\x6d", "\143\157\x6e\164\x65\x6e\x74\56\152\x77\160\154\141\164\x66\157\x72\155\x2e\143\x6f\x6d", "\152\x73\x2e\x68\x73\146\x6f\x72\155\x73\x2e\x6e\145\164", "\167\167\x77\x2e\165\160\154\141\165\x6e\143\150\56\x63\x6f\x6d", "\147\157\157\147\x6c\x65\x2e\143\x6f\155\x2f\x72\x65\x63\x61\160\164\143\x68\141", "\167\151\x64\x67\x65\x74\56\x72\145\x76\151\x65\167\x73\56\143\157\56\165\153", "\x76\x65\x72\x69\146\x79\x2e\x61\x75\x74\x68\x6f\162\151\172\145\56\x6e\145\164\57\141\156\145\164\163\x65\x61\x6c", "\154\x69\142\57\141\x64\x6d\151\x6e\x2f\x61\163\163\145\x74\163\x2f\x6c\151\142\57\x77\x65\x62\146\157\156\164\57\167\145\142\x66\x6f\x6e\x74\56\x6d\151\x6e\x2e\x6a\x73", "\141\160\160\x2e\155\141\x69\x6c\145\162\154\151\164\145\x2e\x63\157\x6d", "\167\x69\144\x67\x65\x74\x2e\x72\x65\x76\151\x65\x77\163\56\x69\157"]; goto xz4Hz; WOepE: B6Ufi: goto h7pza; SA0LL: $HLuTK[] = $PwQlC; goto TwGj0; C1rG0: $ipqzq = site_url(wp_scripts()->registered["\152\x71\x75\145\x72\x79\x2d\143\157\162\145"]->src); goto TNGy7; qx0F0: } public function lazyLoadAssets($vwY7Y) { goto xPtjD; GNhPr: lb4N3: goto vFNRN; vFNRN: h8vDP: goto C2rU4; gEFdw: $kxcQh = $this->applyFilters("\157\x70\164\x69\155\151\172\x61\164\x69\x6f\156\x5f\x70\145\162\146\x6f\x72\155\141\x6e\x63\145\x5f\x72\145\x73\x6f\165\162\x63\145\x5f\154\141\172\x79\x5f\x6c\x6f\x61\144\137\151\156\x63\154\165\x64\x65\163", []); goto DOAkd; C2rU4: return $vwY7Y; goto d0B82; b2R9X: if (!$YEJea) { goto lb4N3; } goto gEFdw; pdTLJ: $avkyE = ["\150\x72\145\146" => "\x64\141\164\x61\x2d\x68\162\x65\x66", "\x73\162\143" => "\144\141\x74\141\55\x73\162\x63"]; goto TQry0; TQry0: $YEJea = $this->applyFilters("\157\x70\164\x69\155\x69\x7a\141\x74\151\x6f\156\137\x70\x65\x72\146\x6f\x72\155\141\x6e\143\145\137\162\145\163\157\165\162\x63\x65\137\154\141\x7a\171\137\x6c\157\x61\144\137\163\145\154\145\x63\x74\x6f\162", "\154\151\x6e\153\x5b\150\162\145\146\135\133\x72\145\x6c\x3d\163\x74\x79\154\145\x73\150\x65\x65\164\x5d\x2c\40\x73\143\x72\x69\x70\x74\133\163\x72\x63\135"); goto b2R9X; xPtjD: if (!$this->applyFilters("\x6f\160\x74\151\x6d\151\172\141\x74\x69\157\156\x5f\160\145\x72\x66\x6f\162\x6d\141\x6e\143\145\137\162\145\x73\x6f\x75\x72\143\145\x5f\154\x61\172\x79\x5f\154\157\x61\x64\137\x61\163\x73\145\164\x73", true)) { goto h8vDP; } goto pdTLJ; DOAkd: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $YEJea, function (DOMElement $oMvxH) use($avkyE, $kxcQh) { goto i9BRe; RKlG1: return $oMvxH; goto GLUSO; i9BRe: foreach ($avkyE as $SQ1cp => $GYJ7g) { goto Pw4HG; o1sep: $oMvxH->setAttribute($GYJ7g, $b8HPW); goto UnFOt; nfs2H: pprzF: goto o1sep; TfqN8: if (!$b8HPW) { goto VTXt2; } goto DiG7A; Nioc1: q33S_: goto nfs2H; E1uDZ: $oMvxH->removeAttribute($SQ1cp); goto jfmsK; UnFOt: $oMvxH->setAttribute("\x64\x61\164\x61\x2d\x70\x72\x69\157\162\x69\164\x79", $aUtho); goto AcGDu; Pw4HG: $b8HPW = $oMvxH->getAttribute($SQ1cp); goto TfqN8; Y43VF: VTXt2: goto CQkXn; lJ7KW: $J538H = 0; goto ht2hh; AcGDu: $oMvxH->setAttribute("\144\141\164\x61\55\154\x61\164\145\x6c\157\x61\x64", $aUtho); goto E1uDZ; CQkXn: K8dAA: goto BsZ2W; DiG7A: $aUtho = 1; goto lJ7KW; ht2hh: if (!$kxcQh) { goto pprzF; } goto yNUeA; yNUeA: $QLhBW = false; goto M0K6q; jfmsK: goto pKM8m; goto Y43VF; M0K6q: foreach ($kxcQh as $ImhlB => $pOx5Q) { goto CMRH3; MQnD0: Qq3wm: goto iaWKX; y1Vpq: $aUtho = $pOx5Q; goto HLx_p; ExuTG: goto q33S_; goto kXGJo; HLx_p: $J538H = 1; goto ExuTG; CMRH3: if (!(strpos($b8HPW, $ImhlB) !== false)) { goto p2CDe; } goto y1Vpq; kXGJo: p2CDe: goto MQnD0; iaWKX: } goto Nioc1; BsZ2W: } goto Ckn97; Ckn97: pKM8m: goto RKlG1; GLUSO: }); goto GNhPr; d0B82: } public function deferJavascript($vwY7Y) { goto GX7GG; pQ3Ub: DOMCrawler::addAttribute($vwY7Y, ["\x73\143\x72\x69\160\164\x5b\x73\x72\143\135" => ["\144\x65\x66\146\145\162" => true]]); goto bIG_b; bIG_b: LDJQf: goto A6vAb; A6vAb: return $vwY7Y; goto tt1nj; GX7GG: if (!($vwY7Y && $this->isAllowed())) { goto LDJQf; } goto pQ3Ub; tt1nj: } public function removeTypeAttribute($qbxRw) { return preg_replace("\x2f\x74\x79\x70\x65\x3d\x5b\x27\42\x5d\164\145\x78\x74\x5c\57\x28\152\x61\x76\x61\163\x63\x72\x69\x70\164\174\x63\x73\163\51\133\x27\x22\x5d\57", '', $qbxRw); } }
