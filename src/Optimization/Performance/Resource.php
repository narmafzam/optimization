<?php
 namespace Optimization\Performance; use Boilerplate\DOMCrawler; use Boilerplate\Util\ArrayUtil; use Boilerplate\Util\UserUtil; use DOMElement; use Optimization\Util\FormatUtil; use Optimization\Util\Util; use WP_Scripts; class Resource extends Common { public function removeActions() : self { $this->removeAction("\167\160\137\x70\162\x69\x6e\x74\x5f\x73\x74\x79\154\145\x73", "\160\x72\151\156\x74\137\x65\155\157\152\151\137\163\x74\x79\x6c\145\x73")->removeAction("\141\x64\x6d\151\x6e\x5f\160\162\151\156\x74\137\x73\x74\x79\154\x65\x73", "\x70\162\x69\x6e\164\x5f\x65\x6d\157\x6a\151\x5f\163\x74\x79\154\x65\x73")->removeAction("\x77\160\x5f\x68\x65\141\144", "\160\162\x69\156\164\x5f\145\x6d\157\x6a\x69\137\x64\x65\x74\x65\x63\x74\151\x6f\156\x5f\163\x63\162\x69\160\x74", 7)->removeAction("\x61\144\155\x69\x6e\137\x70\162\x69\156\x74\137\x73\143\x72\x69\160\164\x73", "\x70\x72\x69\x6e\x74\137\145\x6d\157\152\151\137\x64\145\164\x65\x63\164\151\157\156\137\163\143\x72\151\x70\164"); return parent::removeActions(); } public function addActions() : self { $this->addAction("\x77\x70\137\x65\156\x71\x75\x65\165\x65\137\x73\x63\162\151\160\164\163", [$this, "\x64\x65\x71\165\x65\165\x65\101\163\x73\145\x74\x73"], 0, 999); return parent::addActions(); } public function addFilters() : self { $this->addFilter("\163\164\171\x6c\x65\137\154\x6f\141\x64\145\162\137\163\x72\143", [$this, "\x72\x65\x6d\x6f\166\145\126\145\162\x73\x69\157\156"], 1, 9999)->addFilter("\163\x63\x72\x69\160\164\x5f\x6c\157\141\144\145\162\x5f\x73\162\143", [$this, "\x72\145\x6d\157\166\x65\126\145\x72\x73\x69\157\x6e"], 1, 9999)->addFilter("\x6f\x70\x74\151\x6d\151\172\141\x74\151\x6f\156\137\x62\165\146\146\145\162\137\160\x72\157\143\145\163\163", [$this, "\x6c\x61\x7a\171\x4c\157\x61\144\101\x73\x73\x65\164\x73"], 1, 24)->addFilter("\157\x70\x74\151\x6d\151\x7a\141\164\x69\x6f\156\x5f\x62\x75\x66\146\x65\162\137\x70\162\157\143\x65\x73\x73", [$this, "\144\x65\x66\145\162\x4a\141\166\141\163\143\x72\151\160\x74"], 1, 99999)->addFilter("\x6f\160\x74\151\155\x69\x7a\141\x74\151\157\x6e\137\x62\165\x66\x66\145\162\137\160\x72\157\143\x65\x73\x73", [$this, "\162\145\155\x6f\x76\145\x54\171\x70\x65\x41\164\x74\x72\151\142\x75\x74\x65"], 1, 25)->addFilter("\x62\157\x69\x6c\145\162\x70\154\x61\164\145\137\141\x73\163\145\x74\137\151\x6e\x6c\151\156\145\x5f\152\141\166\141\163\x63\162\151\x70\164", [$this, "\141\144\x64\111\156\x6c\x69\156\x65\112\163"], 1, 9999); return parent::addFilters(); } public function dequeueAssets() { goto cdLkI; eCUuH: wp_deregister_style("\x73\x65\x6c\145\143\x74\62"); goto mMUS8; kHI95: mVAxK: goto A6G7G; Qgnqc: wp_dequeue_style("\x64\x61\x73\x68\151\x63\x6f\x6e\163"); goto cQfvD; nXrVZ: wp_dequeue_style("\x73\x65\x6c\x65\x63\164\x32"); goto eCUuH; cQfvD: wp_deregister_style("\144\x61\x73\x68\x69\143\x6f\x6e\163"); goto nXrVZ; WHFD4: wp_deregister_script("\x73\164\x79\x6c\x65"); goto kHI95; actln: wp_dequeue_script("\x73\164\171\154\145"); goto WHFD4; mMUS8: wp_dequeue_script("\167\x70\x2d\145\x6d\142\145\x64"); goto fNEPv; fNEPv: wp_deregister_script("\167\x70\55\145\x6d\142\x65\x64"); goto actln; cdLkI: if (UserUtil::isUserLoggedIn()) { goto mVAxK; } goto Qgnqc; A6G7G: } public function addInlineJs($SIERD) { goto KwGPz; t9ads: return $SIERD; goto v5QuC; KwGPz: $vpza6 = $this->renderTwigTemplate("\x6c\141\172\171\154\x6f\x61\144\x2e\152\163", ["\151\163\137\x61\x64\155\x69\x6e" => is_admin()]); goto hvO9f; hvO9f: if (!$vpza6) { goto kuGZg; } goto FoIG4; FoIG4: $SIERD[] = $vpza6; goto Oo08r; Oo08r: kuGZg: goto t9ads; v5QuC: } private function isAllowed() { return !Util::getConstant("\x44\117\116\x54\x5f\120\105\122\106\117\x52\115\x41\x4e\x43\105\x5f\x4f\x50\124\111\x4d\111\132\x45", false); } public function removeVersion($iSNOk) { goto L9s_9; L9s_9: if (!strpos($iSNOk, "\166\x65\x72\75")) { goto uRTaI; } goto otzxb; MIy9r: uRTaI: goto D2bYw; otzxb: $iSNOk = remove_query_arg("\166\x65\162", $iSNOk); goto MIy9r; D2bYw: return $iSNOk; goto lY9IE; lY9IE: } public function getExcludeDeferJs() { goto B1gTK; qImfh: return $HLuTK; goto thrJ9; B1gTK: $HLuTK = ["\x67\151\163\164\56\x67\151\x74\150\x75\142\x2e\143\x6f\x6d", "\143\x6f\156\x74\145\x6e\164\x2e\152\167\160\x6c\x61\x74\146\x6f\162\155\56\x63\x6f\x6d", "\x6a\x73\x2e\150\x73\x66\157\162\x6d\x73\56\x6e\x65\164", "\167\167\x77\56\x75\x70\154\x61\165\156\143\150\56\x63\157\x6d", "\x67\x6f\x6f\x67\x6c\145\x2e\x63\157\155\57\x72\145\143\x61\160\164\x63\x68\141", "\x77\x69\x64\x67\x65\164\x2e\x72\145\166\x69\145\167\163\56\143\x6f\x2e\165\153", "\166\145\162\151\x66\x79\x2e\x61\x75\164\x68\x6f\x72\x69\x7a\x65\56\156\145\164\57\141\x6e\x65\164\163\x65\x61\x6c", "\154\151\142\57\141\x64\x6d\151\156\57\141\x73\x73\x65\164\x73\x2f\x6c\x69\142\x2f\x77\x65\142\x66\x6f\156\164\x2f\x77\x65\x62\x66\157\x6e\164\x2e\x6d\151\156\x2e\152\163", "\x61\160\x70\x2e\x6d\x61\x69\154\145\x72\154\151\x74\145\x2e\143\x6f\155", "\167\x69\144\147\x65\x74\56\162\x65\x76\151\145\167\163\x2e\x69\x6f"]; goto yeDJ7; KUCIb: $lMf2v = "\143\x30\56\x77\x70\x2e\x63\x6f\x6d\57\x63\x2f\x28\x3f\72\56\53\51\x2f\167\x70\55\151\x6e\x63\154\165\144\145\x73\57\x6a\x73\x2f\x6a\x71\x75\x65\162\x79\57\152\161\165\145\x72\x79\x2e\152\163"; goto Eb3Q0; LssPA: $ipqzq = site_url(wp_scripts()->registered["\x6a\161\x75\x65\162\171\x2d\x63\157\x72\145"]->src); goto KUCIb; h3Sd5: $HLuTK[] = $PwQlC; goto EsJpA; DDDFK: $HLuTK[] = FormatUtil::cleanExcludeFile($ipqzq); goto ryakD; ryakD: $HLuTK[] = $lMf2v; goto Pf6uk; zLa_c: foreach ($HLuTK as $VuHLh => $V6XZ0) { $HLuTK[$VuHLh] = str_replace("\x23", "\x5c\x23", $V6XZ0); lEYch: } goto Hb1Cj; yeDJ7: $PwQlC = "\143\x64\156\152\163\x2e\143\x6c\x6f\x75\144\x66\154\141\x72\x65\56\143\x6f\x6d\x2f\x61\152\141\x78\x2f\154\x69\x62\163\x2f\152\x71\x75\x65\x72\171\x2f\50\x3f\72\56\53\51\x2f\152\161\x75\x65\162\171\50\77\72\x5c\56\x6d\151\x6e\51\x3f\56\x6a\163"; goto LssPA; EsJpA: $HLuTK = $this->applyFilters("\x6f\160\164\x69\x6d\x69\172\141\164\151\157\x6e\137\x70\145\x72\x66\x6f\x72\x6d\141\x6e\x63\x65\137\x72\x65\163\157\x75\x72\x63\x65\x5f\145\170\143\154\165\x64\x65\x5f\x64\x65\x66\145\162\137\152\x73", $HLuTK); goto zLa_c; Hb1Cj: vDiQN: goto qImfh; Pf6uk: $HLuTK[] = $rDlc4; goto h3Sd5; Eb3Q0: $rDlc4 = "\x61\x6a\141\x78\x2e\x67\157\x6f\147\x6c\145\141\160\x69\163\x2e\143\157\x6d\57\x61\152\141\x78\x2f\x6c\151\x62\x73\x2f\152\x71\x75\x65\162\171\x2f\x28\x3f\72\56\x2b\51\x2f\152\161\165\x65\162\x79\x28\77\x3a\134\x2e\155\x69\x6e\x29\77\56\152\x73"; goto DDDFK; thrJ9: } public function lazyLoadAssets($vwY7Y) { goto ppwy3; CNZSG: P3PtD: goto Y8jom; a3hdz: if (!$YEJea) { goto P3PtD; } goto ccZ77; lGQuZ: $YEJea = $this->applyFilters("\157\160\164\151\x6d\x69\172\x61\164\x69\157\x6e\137\160\x65\x72\x66\157\162\155\x61\156\143\145\137\162\x65\163\x6f\x75\x72\x63\145\137\x6c\141\172\171\137\154\x6f\141\x64\x5f\163\x65\x6c\145\x63\164\x6f\162", "\154\x69\156\x6b\133\x68\162\145\146\135\x5b\x72\x65\154\75\163\164\171\154\145\163\150\x65\145\164\x5d\x2c\x20\x73\143\162\x69\x70\164\x5b\163\162\x63\x5d"); goto a3hdz; Y8jom: uZLNk: goto Ikfo0; Y31hX: $avkyE = ["\x68\162\145\x66" => "\x64\x61\164\141\x2d\150\x72\x65\146", "\163\x72\143" => "\144\141\x74\x61\55\163\x72\x63"]; goto lGQuZ; hyAOy: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $YEJea, function (DOMElement $oMvxH) use($avkyE, $kxcQh) { goto H1MMK; H1MMK: foreach ($avkyE as $SQ1cp => $GYJ7g) { goto I3XxZ; I3XxZ: $b8HPW = $oMvxH->getAttribute($SQ1cp); goto kG01U; Heeae: Qyk9k: goto nF7Df; RYlOE: ixQcZ: goto aFFbw; ujgCz: if (!$QLhBW) { goto Qyk9k; } goto k7et2; Oa0Ip: $oMvxH->removeAttribute($SQ1cp); goto eQ7UO; eQ7UO: goto ZHm37; goto Heeae; IjkBp: $QLhBW = false; goto sXhfh; sXhfh: foreach ($kxcQh as $ImhlB => $pOx5Q) { goto te1EI; thB7J: $QLhBW = true; goto o92H6; o92H6: goto goHcg; goto K_Fiv; SUjXP: UgyX2: goto hKDMd; n3TkT: $aUtho = $pOx5Q; goto thB7J; te1EI: if (!(strpos($b8HPW, $ImhlB) !== false)) { goto epV2v; } goto n3TkT; K_Fiv: epV2v: goto SUjXP; hKDMd: } goto LhbAB; WJFVw: $aUtho = 1; goto lUWt4; bRrwa: $oMvxH->setAttribute("\x64\141\164\x61\55\160\162\151\157\x72\x69\x74\171", $aUtho); goto Oa0Ip; lUWt4: $QLhBW = true; goto PqPyz; PqPyz: if (!$kxcQh) { goto ZvmJ3; } goto IjkBp; Sn2CS: ZvmJ3: goto ujgCz; nF7Df: IcMmD: goto RYlOE; LhbAB: goHcg: goto Sn2CS; k7et2: $oMvxH->setAttribute($GYJ7g, $b8HPW); goto bRrwa; kG01U: if (!$b8HPW) { goto IcMmD; } goto WJFVw; aFFbw: } goto edN3n; OASM6: return $oMvxH; goto tuydc; edN3n: ZHm37: goto OASM6; tuydc: }); goto CNZSG; Ikfo0: return $vwY7Y; goto U1Jht; ppwy3: if (!$this->applyFilters("\157\160\x74\x69\155\x69\x7a\x61\x74\x69\x6f\x6e\x5f\160\x65\162\x66\x6f\x72\155\141\156\143\145\137\162\x65\163\x6f\x75\162\x63\x65\x5f\154\141\172\x79\x5f\154\157\x61\144\x5f\141\x73\x73\x65\164\163", true)) { goto uZLNk; } goto Y31hX; ccZ77: $kxcQh = $this->applyFilters("\x6f\160\x74\x69\155\x69\x7a\x61\x74\x69\x6f\156\x5f\160\x65\x72\146\157\x72\x6d\x61\156\x63\145\x5f\x72\x65\x73\157\165\x72\143\145\137\x6c\141\x7a\x79\137\x6c\x6f\141\144\x5f\151\156\143\x6c\165\x64\x65\163", []); goto hyAOy; U1Jht: } public function deferJavascript($vwY7Y) { goto JrjbE; JrjbE: if (!($vwY7Y && $this->isAllowed())) { goto UCfhH; } goto PzFfW; oN1mE: return $vwY7Y; goto UAyKP; PzFfW: DOMCrawler::addAttribute($vwY7Y, ["\x73\143\162\x69\160\x74\x5b\x73\162\x63\135" => ["\144\145\146\146\145\162" => true]]); goto tPIKZ; tPIKZ: UCfhH: goto oN1mE; UAyKP: } public function removeTypeAttribute($qbxRw) { return preg_replace("\57\x74\171\x70\x65\75\x5b\47\x22\x5d\x74\x65\170\164\x5c\57\50\x6a\141\x76\x61\x73\x63\x72\151\160\164\174\143\163\163\51\133\47\42\x5d\57", '', $qbxRw); } }
