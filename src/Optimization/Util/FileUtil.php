<?php
 namespace Optimization\Util; use Boilerplate\Filesystem; use Exception; use FilesystemIterator; use RecursiveDirectoryIterator; use RecursiveIteratorIterator; use RecursiveRegexIterator; use RegexIterator; use UnexpectedValueException; class FileUtil extends Util { public static function removeConfigFiles() { goto aOyjg; kh3d1: qoMYF: goto lB3Pm; kl1nf: $yb0zb = Filesystem::getInstance(); goto ArRzd; xnVmr: YcdXP: goto kh3d1; aOyjg: $GpbaC = self::getConstant("\117\x50\124\x49\115\111\132\101\x54\x49\117\x4e\x5f\x43\x4f\x4e\x46\x49\x47\x5f\x50\x41\124\x48"); goto kl1nf; uhjdq: $T1d9t = self::getIterator($GpbaC); goto yuHhF; yuHhF: foreach ($T1d9t as $kJMVe) { goto UeNuM; UeNuM: if (!$kJMVe->isFile()) { goto bj93N; } goto wnWKD; RV8yo: bj93N: goto hkhhG; hkhhG: xguW4: goto kZ_x8; wnWKD: $yb0zb->remove($kJMVe->getPathname()); goto RV8yo; kZ_x8: } goto xnVmr; ArRzd: if (!($GpbaC && $yb0zb->exists($GpbaC))) { goto qoMYF; } goto uhjdq; lB3Pm: } public static function getDirectorySize($lzD2z) { goto D4n11; D4n11: $n_Vsd = 0; goto lZETE; lZETE: try { goto M25RU; GA6nt: rdhUf: goto MbUhG; M25RU: $KWSCi = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($lzD2z, FilesystemIterator::SKIP_DOTS)); goto oHG4A; oHG4A: foreach ($KWSCi as $wpkb5) { $n_Vsd += $wpkb5->getSize(); LvADu: } goto GA6nt; MbUhG: } catch (UnexpectedValueException $XIaY1) { } goto Wmm4K; Wmm4K: return $n_Vsd; goto meP27; meP27: } public static function getFilesystemPerms($jDNPs) { goto GBEWw; V6DrH: return $ZigrM[$jDNPs]; goto U2HN2; OPuAs: goto IekM0; goto ozi6I; ydcFP: if (!self::getConstant("\x57\120\137\117\x50\x54\111\x4d\x49\x5a\101\x54\111\117\116\x5f\111\x53\x5f\124\105\123\124\111\x4e\x47", false)) { goto ywPwx; } goto tJtiY; U9xsx: $svPPi = (int) self::getConstant("\x46\123\137\x43\x48\x4d\117\104\137\106\x49\114\x45", 0); goto f6kLU; hO6aq: ywPwx: goto sHPWW; rCVTN: return $ZigrM[$jDNPs]; goto hccCw; V_y43: if (!isset($ZigrM[$jDNPs])) { goto KeDAz; } goto V6DrH; ozi6I: RMi9p: goto Eb3IX; Eb3IX: $aMDTE = (int) self::getConstant("\106\123\137\103\x48\115\117\x44\x5f\104\x49\x52", 0); goto OA7cn; dzLde: SqBmQ: goto a9bqs; U2HN2: KeDAz: goto i2VPn; a9bqs: b3E6y: goto V_y43; i2VPn: if ("\144\x69\162" === $jDNPs) { goto RMi9p; } goto U9xsx; tJtiY: $ZigrM = []; goto hO6aq; sHPWW: switch ($jDNPs) { case "\144\151\x72": case "\144\151\162\x73": case "\x66\x6f\154\x64\145\x72": case "\146\157\154\144\145\x72\163": $jDNPs = "\144\x69\x72"; goto b3E6y; case "\x66\151\154\x65": case "\x66\x69\154\x65\x73": $jDNPs = "\x66\x69\154\145"; goto b3E6y; default: return 0755; } goto dzLde; OA7cn: $ZigrM[$jDNPs] = $aMDTE > 0 ? $aMDTE : fileperms(self::getConstant("\101\102\123\120\x41\x54\110")) & 0777 | 0755; goto RoklJ; RoklJ: IekM0: goto rCVTN; GBEWw: static $ZigrM = array(); goto ydcFP; f6kLU: $ZigrM[$jDNPs] = $svPPi > 0 ? $svPPi : fileperms(self::getConstant("\101\x42\x53\120\x41\x54\x48") . "\x69\x6e\x64\x65\x78\x2e\160\x68\x70") & 0777 | 0644; goto OPuAs; hccCw: } public static function isWindowsFS($zzgax = false) { goto BnAbh; YN0r3: $KXM37 = null; goto x9SLV; TQA43: return $KXM37; goto UeqCw; tyLBZ: $KXM37 = DIRECTORY_SEPARATOR === "\134" && !self::getConstant("\x57\x50\137\117\x50\x54\x49\x4d\111\132\101\124\111\117\x4e\137\122\x55\x4e\x4e\x49\x4e\107\137\126\x46\123", false); goto ptLaT; ptLaT: TwoKF: goto TQA43; iniE5: if (!$zzgax) { goto rXb9K; } goto YN0r3; BnAbh: static $KXM37 = null; goto iniE5; TVlJq: if (!is_null($KXM37)) { goto TwoKF; } goto tyLBZ; x9SLV: rXb9K: goto TVlJq; UeqCw: } public static function getRecursiveDirFilesByRegex($GuTuU, $NeAew) { try { $T1d9t = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($GuTuU, FilesystemIterator::SKIP_DOTS)); $fTqn_ = new RegexIterator($T1d9t, $NeAew, RecursiveRegexIterator::MATCH); } catch (Exception $XIaY1) { $fTqn_ = []; } return $fTqn_; } public static function normalizePath($GuTuU, $GBKxq = false, $y_msF = false) { goto FJj_Q; XpYdS: if (!$GBKxq) { goto Wm7Fl; } goto D9f0a; IvEYb: UM7s8: goto Ca6ma; PvoDa: return $GBKxq ? str_replace("\134", "\x5c\x5c", $GuTuU) : $GuTuU; goto GmFpM; YCrgt: return $GuTuU; goto IvEYb; tCIFC: Wm7Fl: goto VMOCl; FJj_Q: if (!self::isWindowsFS($GuTuU)) { goto Jvg55; } goto ar11t; VMOCl: if ($y_msF) { goto UM7s8; } goto YCrgt; GmFpM: Jvg55: goto XpYdS; Ca6ma: return wp_normalize_path($GuTuU); goto Nhb3f; D9f0a: return str_replace("\x2f", "\x5c\57", $GuTuU); goto tCIFC; ar11t: $GuTuU = str_replace("\57", "\134", $GuTuU); goto PvoDa; Nhb3f: } public static function rrmdir($lzD2z, array $gFaTf = array(), $yb0zb = null) { goto Ff8pZ; Ff8pZ: if ($yb0zb) { goto cJU7k; } goto GDPJ8; wjwSy: if ($yb0zb->isDirectory($lzD2z)) { goto dIkbx; } goto v1hb0; sJ9jz: l16rg: goto wjwSy; lJ8kf: cJU7k: goto xbRCn; JEykZ: $ahdVm = []; goto VOBYh; T7fxB: if (empty($zfbty)) { goto xOg6S; } goto ztd1n; ENnRB: if (!($yb0zb->isDirectory($lzD2z) && $yb0zb->exists($LgnRt))) { goto l16rg; } goto hShnf; ztd1n: $ahdVm = array_diff($ahdVm, $zfbty); goto Eqm1U; Af9lT: foreach ($ahdVm as $yH61N) { goto TB1ee; GFwBy: goto b2BAJ; goto S3JkP; GGk1C: b2BAJ: goto xD8Eu; TB1ee: if (!$yb0zb->isDirectory($yH61N)) { goto gdpm1; } goto Tv9hY; S3JkP: gdpm1: goto ExH9G; Tv9hY: self::rrmdir($yH61N, $gFaTf, $yb0zb); goto GFwBy; xD8Eu: SWyp6: goto lrm85; ExH9G: $yb0zb->remove($yH61N); goto GGk1C; lrm85: } goto CYm0S; VOBYh: try { foreach (new FilesystemIterator($lzD2z) as $yH61N) { $ahdVm[] = $yH61N->getPathname(); hPCXP: } k1t85: } catch (Exception $XIaY1) { } goto AliSH; uy9Qo: $yb0zb->remove($HIl3a); goto W8vv5; n1wig: if (empty($zfbty)) { goto KVu3S; } goto H1w6o; YFFPY: return; goto jMohm; H1w6o: $zfbty = array_filter($zfbty); goto T7fxB; r1Gog: KVu3S: goto IgVko; y1bjx: do_action("\142\x65\146\157\x72\x65\137\157\160\x74\151\155\x69\172\141\164\x69\157\x6e\137\x72\162\155\x64\x69\162", $lzD2z, $gFaTf); goto aY0JW; W8vv5: nhgm3: goto jBpcl; AliSH: if (!(!empty($gFaTf) && !empty($ahdVm))) { goto R3i0v; } goto U1GlS; CYm0S: QBTfg: goto Xmr4Z; Eqm1U: xOg6S: goto r1Gog; v1hb0: $yb0zb->remove($lzD2z); goto YFFPY; jMohm: dIkbx: goto JEykZ; aY0JW: $HIl3a = $lzD2z . "\57\x2e\x6d\x6f\142\x69\x6c\145\55\141\143\x74\151\166\145"; goto Xl_yK; Xmr4Z: $yb0zb->remove($lzD2z); goto EkKj8; U1GlS: $zfbty = []; goto kAwBk; ZvM8K: aa2Cv: goto n1wig; xbRCn: $lzD2z = untrailingslashit($lzD2z); goto y1bjx; kAwBk: foreach ($gFaTf as $D9QT3) { goto bTByN; bTByN: $upoja = preg_grep("\x23\136{$D9QT3}\x24\x23", $ahdVm); goto jvF_I; jvF_I: $zfbty[] = reset($upoja); goto HI0KF; HI0KF: qSWdq: goto TB0l3; TB0l3: } goto ZvM8K; IgVko: R3i0v: goto Af9lT; EkKj8: do_action("\141\x66\x74\x65\162\137\157\x70\164\x69\155\x69\x7a\141\164\151\x6f\x6e\x5f\162\x72\155\x64\x69\x72", $lzD2z, $gFaTf); goto zkQPr; hShnf: $yb0zb->remove($LgnRt); goto sJ9jz; GDPJ8: $yb0zb = Filesystem::getInstance(); goto lJ8kf; Xl_yK: if (!($yb0zb->isDirectory($lzD2z) && $yb0zb->exists($HIl3a))) { goto nhgm3; } goto uy9Qo; jBpcl: $LgnRt = $lzD2z . "\57\x2e\x6e\157\x2d\x77\x65\142\x70"; goto ENnRB; zkQPr: } }
