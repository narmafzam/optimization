<?php
 namespace Optimization\Util; use Boilerplate\Filesystem; use Exception; use FilesystemIterator; use RecursiveDirectoryIterator; use RecursiveIteratorIterator; use RecursiveRegexIterator; use RegexIterator; use UnexpectedValueException; class FileUtil extends Util { public static function removeConfigFiles() { goto WB0sw; J053_: if (!($GpbaC && $yb0zb->exists($GpbaC))) { goto m0mMp; } goto Gtm8s; MniS7: P9zeW: goto pKqj3; Gtm8s: $T1d9t = self::getIterator($GpbaC); goto xlzzE; pKqj3: m0mMp: goto HUvo8; xlzzE: foreach ($T1d9t as $kJMVe) { goto QDrkn; QDrkn: if (!$kJMVe->isFile()) { goto TLYNF; } goto mhf84; mhf84: $yb0zb->remove($kJMVe->getPathname()); goto d5PQ6; fm0Bn: yJ9xQ: goto xSAJ7; d5PQ6: TLYNF: goto fm0Bn; xSAJ7: } goto MniS7; cpkD1: $yb0zb = Filesystem::getInstance(); goto J053_; WB0sw: $GpbaC = self::getConstant("\x4f\120\124\111\115\111\x5a\101\124\111\117\116\x5f\x43\x4f\116\106\x49\x47\x5f\x50\x41\124\110"); goto cpkD1; HUvo8: } public static function getDirectorySize($lzD2z) { goto SgG_1; WrmAG: try { goto wWHsr; wWHsr: $KWSCi = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($lzD2z, FilesystemIterator::SKIP_DOTS)); goto JFXNN; bY9RU: pmkRJ: goto v6KSg; JFXNN: foreach ($KWSCi as $wpkb5) { $n_Vsd += $wpkb5->getSize(); moEzg: } goto bY9RU; v6KSg: } catch (UnexpectedValueException $XIaY1) { } goto acA_4; SgG_1: $n_Vsd = 0; goto WrmAG; acA_4: return $n_Vsd; goto aGUgs; aGUgs: } public static function getFilesystemPerms($jDNPs) { goto ZaYkg; oT0v9: if ("\144\x69\162" === $jDNPs) { goto x5nQF; } goto q1Nl9; q1Nl9: $svPPi = (int) self::getConstant("\106\x53\137\103\x48\115\x4f\104\137\106\x49\114\x45", 0); goto EEcMI; rFz1L: $ZigrM = []; goto AJfCR; jiUJb: $ZigrM[$jDNPs] = $aMDTE > 0 ? $aMDTE : fileperms(self::getConstant("\101\x42\x53\120\x41\124\x48")) & 0777 | 0755; goto KJcjK; G40t8: goto IaiJj; goto qZL7h; DGPuM: switch ($jDNPs) { case "\x64\151\162": case "\x64\151\x72\x73": case "\x66\157\154\x64\x65\162": case "\x66\x6f\154\x64\145\x72\163": $jDNPs = "\x64\x69\x72"; goto wdB9k; case "\x66\151\154\x65": case "\x66\x69\154\145\163": $jDNPs = "\146\x69\154\145"; goto wdB9k; default: return 0755; } goto Ki005; qkDfO: wOkqM: goto oT0v9; ZaYkg: static $ZigrM = array(); goto NScSP; zbXb4: wdB9k: goto yf0N1; qZL7h: x5nQF: goto GdbS0; AJfCR: IgXip: goto DGPuM; Cj_HD: return $ZigrM[$jDNPs]; goto Xg4Ka; NScSP: if (!self::getConstant("\127\120\x5f\x4f\120\x54\111\x4d\x49\132\101\124\x49\117\116\137\x49\123\137\124\x45\x53\x54\111\116\x47", false)) { goto IgXip; } goto rFz1L; Ki005: RevBQ: goto zbXb4; KJcjK: IaiJj: goto Cj_HD; iDtxH: return $ZigrM[$jDNPs]; goto qkDfO; EEcMI: $ZigrM[$jDNPs] = $svPPi > 0 ? $svPPi : fileperms(self::getConstant("\101\102\123\x50\x41\x54\110") . "\151\x6e\144\x65\170\x2e\x70\150\160") & 0777 | 0644; goto G40t8; yf0N1: if (!isset($ZigrM[$jDNPs])) { goto wOkqM; } goto iDtxH; GdbS0: $aMDTE = (int) self::getConstant("\x46\x53\x5f\x43\110\x4d\x4f\x44\x5f\x44\x49\122", 0); goto jiUJb; Xg4Ka: } public static function isWindowsFS($zzgax = false) { goto eDCge; OvMqD: OJDl6: goto PpIKL; tH5iS: $KXM37 = DIRECTORY_SEPARATOR === "\x5c" && !self::getConstant("\x57\120\137\x4f\x50\124\x49\x4d\x49\x5a\x41\x54\x49\x4f\x4e\137\x52\125\x4e\x4e\111\x4e\x47\x5f\126\x46\123", false); goto H10Tl; BPDDT: if (!$zzgax) { goto OJDl6; } goto JLE2f; DUTf8: return $KXM37; goto zzWnw; JLE2f: $KXM37 = null; goto OvMqD; H10Tl: a795j: goto DUTf8; PpIKL: if (!is_null($KXM37)) { goto a795j; } goto tH5iS; eDCge: static $KXM37 = null; goto BPDDT; zzWnw: } public static function getRecursiveDirFilesByRegex($GuTuU, $NeAew) { try { $T1d9t = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($GuTuU, FilesystemIterator::SKIP_DOTS)); $fTqn_ = new RegexIterator($T1d9t, $NeAew, RecursiveRegexIterator::MATCH); } catch (Exception $XIaY1) { $fTqn_ = []; } return $fTqn_; } public static function normalizePath($GuTuU, $GBKxq = false, $y_msF = false) { goto Lz17x; jUHXC: if (!$GBKxq) { goto TJhCc; } goto j4EzA; qxkqI: TJhCc: goto oboPk; oboPk: if ($y_msF) { goto dVsma; } goto RSJUR; C_d1R: return $GBKxq ? str_replace("\134", "\134\134", $GuTuU) : $GuTuU; goto eng0q; otloa: $GuTuU = str_replace("\x2f", "\134", $GuTuU); goto C_d1R; j4EzA: return str_replace("\x2f", "\134\57", $GuTuU); goto qxkqI; eng0q: QuUiQ: goto jUHXC; Lz17x: if (!self::isWindowsFS($GuTuU)) { goto QuUiQ; } goto otloa; ymMhk: return wp_normalize_path($GuTuU); goto zQunV; suLN0: dVsma: goto ymMhk; RSJUR: return $GuTuU; goto suLN0; zQunV: } public static function rrmdir($lzD2z, array $gFaTf = array(), $yb0zb = null) { goto xlElv; dW68a: $yb0zb::remove($lzD2z); goto jQMtD; iQuc8: if (empty($zfbty)) { goto Bv7Bb; } goto OaI6V; R4Bmk: $HIl3a = $lzD2z . "\x2f\x2e\x6d\157\142\151\154\x65\x2d\x61\143\x74\x69\166\x65"; goto I73jN; MLf8n: do_action("\x62\x65\x66\157\162\x65\x5f\157\160\x74\x69\155\151\172\x61\164\x69\157\x6e\x5f\x72\162\x6d\x64\151\162", $lzD2z, $gFaTf); goto R4Bmk; uPtOB: $ahdVm = []; goto RwADQ; Xw3IE: $lzD2z = untrailingslashit($lzD2z); goto MLf8n; IUNXA: $yb0zb::remove($LgnRt); goto OHBL0; dxhTx: Y0Odp: goto Xw3IE; JYx61: GMehI: goto CRkpd; QW1Xb: e_ZlW: goto dW68a; oeCQR: $zfbty = []; goto Ucztk; I73jN: if (!($yb0zb::isDirectory($lzD2z) && $yb0zb::exists($HIl3a))) { goto D5TEa; } goto qOuit; dk4ZV: $LgnRt = $lzD2z . "\57\x2e\156\157\55\167\x65\142\x70"; goto dvpjY; oDO0y: xoe0y: goto uPtOB; dvpjY: if (!($yb0zb::isDirectory($lzD2z) && $yb0zb->exists($LgnRt))) { goto DWafs; } goto IUNXA; OaI6V: $zfbty = array_filter($zfbty); goto JeQkk; xlElv: if ($yb0zb) { goto Y0Odp; } goto HgXuw; jQMtD: do_action("\141\x66\x74\x65\162\137\x6f\x70\164\151\x6d\x69\x7a\x61\x74\x69\157\x6e\137\x72\x72\x6d\x64\151\x72", $lzD2z, $gFaTf); goto k9ij6; JeQkk: if (empty($zfbty)) { goto QMig0; } goto fzZn_; RwADQ: try { foreach (new FilesystemIterator($lzD2z) as $yH61N) { $ahdVm[] = $yH61N->getPathname(); LEeIS: } p2H6l: } catch (Exception $XIaY1) { } goto sodGL; sodGL: if (!(!empty($gFaTf) && !empty($ahdVm))) { goto GMehI; } goto oeCQR; E9Gj6: D5TEa: goto dk4ZV; HgXuw: $yb0zb = getFilesystem(); goto dxhTx; Teo9V: $yb0zb::remove($lzD2z); goto b9JAK; cZloe: if ($yb0zb::isDirectory($lzD2z)) { goto xoe0y; } goto Teo9V; Ucztk: foreach ($gFaTf as $D9QT3) { goto rBTMN; rBTMN: $upoja = preg_grep("\x23\136{$D9QT3}\x24\43", $ahdVm); goto cpES_; xJb93: YuV_G: goto wnbKr; cpES_: $zfbty[] = reset($upoja); goto xJb93; wnbKr: } goto xI3H_; fzZn_: $ahdVm = array_diff($ahdVm, $zfbty); goto OTdOI; OHBL0: DWafs: goto cZloe; xI3H_: ivk9G: goto iQuc8; b9JAK: return; goto oDO0y; EFMvi: Bv7Bb: goto JYx61; qOuit: $yb0zb::remove($HIl3a); goto E9Gj6; OTdOI: QMig0: goto EFMvi; CRkpd: foreach ($ahdVm as $yH61N) { goto uUWGx; FyaJU: GJoz2: goto Tw_iC; Z26t6: self::rrmdir($yH61N, $gFaTf, $yb0zb); goto Bky_o; Bky_o: goto RDZu_; goto FyaJU; uUWGx: if (!$yb0zb::isDirectory($yH61N)) { goto GJoz2; } goto Z26t6; Tw_iC: $yb0zb::remove($yH61N); goto Dq9K6; gfmLK: vDAS4: goto mkYBA; Dq9K6: RDZu_: goto gfmLK; mkYBA: } goto QW1Xb; k9ij6: } }
