<?php
 namespace Optimization\Critical\CSS; use Boilerplate\DOMCrawler; use Boilerplate\Util\ArrayUtil; use Boilerplate\Util\ThemeUtil; use Boilerplate\Util\UserUtil; class CSS extends Common { const CRITICAL_CSS_GENERATION_ = "\157\x70\164\151\155\x69\x7a\x61\164\x69\x6f\156\137\x63\162\x69\164\x69\x63\141\x6c\x5f\x63\163\x73\137\x67\x65\156\x65\162\141\x74\151\x6f\156\x5f"; const RUNNING_PROCESS_TRANSITION = self::CRITICAL_CSS_GENERATION_ . "\160\x72\x6f\x63\145\163\163\137\x72\165\x6e\x6e\x69\x6e\x67"; const CRITICAL_CSS_GENERATION_DONE = self::CRITICAL_CSS_GENERATION_ . "\144\x6f\156\145"; public function __construct() { $this->loadRequirement(); parent::__construct(); } public function addActions() : self { $this->addAction("\x6f\x70\x74\151\x6d\151\172\x61\164\151\x6f\156\x5f\142\x75\146\x66\145\162\137\160\x72\x6f\143\145\x73\x73", [$this, "\x65\170\x74\162\141\143\x74\x43\x72\x69\164\x69\x63\141\154"]); return parent::addActions(); } public function addFilters() : self { $this->addFilter("\144\157\x5f\x63\x61\x63\150\145\x5f\x67\145\x6e\145\x72\x61\x74\x65\x5f\143\x61\143\150\151\156\x67\x5f\x66\151\x6c\145\x73", [$this, "\151\x73\117\160\164\151\155\151\172\x65\x64"], 0)->addFilter("\x6f\x70\x74\x69\155\151\172\x61\x74\151\157\156\137\x69\x73\x5f\157\160\164\151\155\151\x7a\x65\144", [$this, "\x69\x73\x4f\x70\x74\x69\x6d\151\172\x65\144"], 1, 0)->addFilter("\x63\163\x73\x5f\141\x73\x73\x65\x74\x5f\x75\162\x6c", [$this, "\155\141\171\142\x65\104\x69\163\141\x62\x6c\x65\x48\x65\141\x64\x43\163\163\106\x69\x6c\145"], 1, 999)->addFilter("\x62\157\x69\154\145\x72\160\x6c\141\164\145\137\x61\x73\x73\x65\x74\x5f\x69\x6e\154\x69\x6e\x65\137\x73\x74\171\x6c\145\163", [$this, "\x61\x64\x64\123\164\171\x6c\145\124\x6f\x48\145\x61\x64"], 1, 99)->addFilter("\x6f\x70\x74\151\155\151\x7a\x61\164\151\x6f\x6e\x5f\143\162\151\x74\x69\143\x61\x6c\137\143\163\x73\137\151\x73\137\157\x70\164\151\x6d\x69\172\x65\x64", [$this, "\151\163\x4f\x70\x74\151\x6d\x69\172\x65\x64"], 1, 0)->addFilter("\164\150\145\155\145\x5f\x66\157\157\164\145\162\x5f\x6c\x6f\x61\x64\137\152\x73\137\154\157\x61\x64\x65\162\137\167\151\164\x68\137\x65\x76\x65\x6e\164", [$this, "\151\x73\x4f\x70\164\x69\x6d\151\172\145\144"], 1, 0); return parent::addFilters(); } public function isOptimized($NxGo9 = true) { goto fEMi9; zaGxc: edEdl: goto TgFx5; YvPqj: $NxGo9 = !UserUtil::isUserLoggedIn() && $this->getFilesystem()->exists(Util::getFullName()); goto zaGxc; TgFx5: return $NxGo9; goto Auscu; fEMi9: if ($NxGo9) { goto edEdl; } goto YvPqj; Auscu: } public function maybeDisableHeadCssFile($hgTz4) { goto lOEoA; iBISc: $FF3Wu = Util::getFullName(); goto mVkmS; to6P5: zpDT_: goto vFAP1; XcriT: $hgTz4 = ''; goto DRo5Y; lOEoA: if (!$this->isOptimized(false)) { goto zpDT_; } goto iBISc; DRo5Y: isNKl: goto to6P5; vFAP1: return $hgTz4; goto adpFp; mVkmS: $B6fu9 = $this->getFilesystem()->getContent($FF3Wu); goto AfQ2m; AfQ2m: if (!trim($B6fu9)) { goto isNKl; } goto XcriT; adpFp: } public function addStyleToHead($QHtFv) { goto l2DwP; HIjZi: $B6fu9 = $this->getFilesystem()->getContent($FF3Wu); goto N_uCp; l2DwP: if (!$this->isOptimized(false)) { goto G52Br; } goto DAY3U; N_uCp: if (!is_string($B6fu9)) { goto WrUzx; } goto J2z6_; DAY3U: $FF3Wu = Util::isGenerated(); goto HIjZi; ff6KA: G52Br: goto gxvPc; gxvPc: return $QHtFv; goto X0u7g; PxSBf: WrUzx: goto ff6KA; J2z6_: $QHtFv .= $B6fu9; goto PxSBf; X0u7g: } public function loadRequirement() { Purge::getInstance(); Extractor::getInstance(); } public function extractCritical(?string $vwY7Y) { goto Z3rF8; unlSN: return $vwY7Y; goto BVbqq; yczqS: $vwY7Y = DOMCrawler::updateContent($vwY7Y, $C2Sin, $uQihC); goto FLesq; Ew9BV: ml2LL: goto GfXYX; Z3rF8: if (!$this->applyFilters("\157\160\164\x69\155\151\172\141\x74\151\x6f\156\x5f\x63\162\151\x74\x69\143\141\x6c\x5f\143\163\163\137\143\x61\156\137\145\170\164\162\141\143\x74", true)) { goto Zslnr; } goto TikXT; F_jAs: $vwY7Y = DOMCrawler::addChild($vwY7Y, "\150\145\141\144", $uQihC); goto y9uPC; TikXT: if (!($FF3Wu = Util::isNotGenerated())) { goto Cc88W; } goto qt6DZ; J51X3: hWkiF: goto aKDvy; lJGpl: if (!$uQihC) { goto hWkiF; } goto FjpnK; aKDvy: Cc88W: goto ZCor_; R70_F: if (!DOMCrawler::has($vwY7Y, $C2Sin)) { goto ml2LL; } goto yczqS; GfXYX: $uQihC = ThemeUtil::generateElement("\163\x74\x79\154\x65", [], true, $uQihC); goto F_jAs; FjpnK: $C2Sin = "\163\x74\171\154\x65\43\x62\157\x69\x6c\145\162\x70\154\141\x74\145\x5f\x69\156\x6c\151\x6e\x65\x5f\x73\x74\x79\154\145"; goto R70_F; qt6DZ: $uQihC = Extractor::getInstance()->extract($vwY7Y, $FF3Wu, true); goto lJGpl; ZCor_: Zslnr: goto unlSN; FLesq: goto Q_0gc; goto Ew9BV; y9uPC: Q_0gc: goto J51X3; BVbqq: } }
