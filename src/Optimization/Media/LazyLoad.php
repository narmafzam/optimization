<?php
 namespace Optimization\Media; use Boilerplate\DOMCrawler; use DOMElement; class LazyLoad extends Common { const LAZY_LOAD_PATTERN = array("\163\x72\143" => "\144\141\164\x61\x2d\x73\162\143", "\x73\x69\x7a\145\163" => "\144\141\164\x61\55\x73\151\172\x65\163", "\163\x72\143\x73\145\x74" => "\144\141\164\141\x2d\x73\162\143\163\x65\x74"); public function addFilters() : self { $this->addFilter("\x6c\141\x7a\171\x5f\x6c\157\x61\144\x5f\x65\x6e\x61\x62\154\145", "\137\x5f\162\x65\x74\x75\x72\156\x5f\x74\162\165\145")->addFilter("\x77\160\x5f\x6c\141\172\x79\137\x6c\x6f\141\x64\x69\x6e\147\x5f\145\x6e\x61\142\154\x65\x64", "\137\x5f\x72\x65\164\165\162\x6e\137\x74\x72\165\145")->addFilter("\157\x70\x74\151\155\x69\x7a\x61\x74\x69\x6f\x6e\137\x62\165\x66\x66\145\x72\137\160\162\157\143\x65\163\x73", [$this, "\154\x61\x7a\x79\114\157\x61\144\110\164\x6d\154\x49\155\x61\x67\x65\x73"], 1, 15)->addFilter("\157\160\x74\151\x6d\x69\x7a\141\x74\x69\157\156\137\x62\165\146\146\145\x72\137\x6e\157\x74\137\x70\x72\157\x63\145\x73\x73\145\x64", [$this, "\x6c\141\172\x79\114\x6f\141\x64\x48\x74\x6d\x6c\x49\155\141\147\x65\163"], 1, 15)->addFilter("\142\157\151\x6c\x65\162\x70\x6c\141\x74\145\x5f\x61\x73\x73\145\164\x5f\x69\156\154\x69\156\145\x5f\152\x61\166\x61\x73\143\x72\x69\x70\164", [$this, "\x61\x64\144\111\156\x6c\151\x6e\x65\123\x63\162\x69\160\x74\x73"], 1, 99); return parent::addFilters(); } public function isAllow() { return $this->applyFilters("\x6f\160\x74\x69\155\151\x7a\x61\x74\x69\157\156\x5f\x6c\141\x7a\171\137\154\157\x61\x64\x5f\143\x61\x6e\x5f\x70\162\x6f\143\145\x73\x73", true); } public function addInlineScripts($SIERD = array()) { goto vJhYT; vJhYT: $vpza6 = $this->renderTwigTemplate("\151\156\x6c\x69\x6e\x65\x2e\x6a\163"); goto dv2TV; bvO0A: $SIERD[] = $vpza6; goto kapcE; dv2TV: if (!$vpza6) { goto ivRrL; } goto bvO0A; VRGfc: return $SIERD; goto eyISN; kapcE: ivRrL: goto VRGfc; eyISN: } public function lazyLoadHtmlImages($vwY7Y) { goto BFp0O; BFp0O: if (!($vwY7Y && $this->isAllow())) { goto Skynd; } goto xYPe5; W9mbt: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $C2Sin, function (DOMElement $oMvxH) { goto PpqRf; KNmAW: $oMvxH->setAttribute("\x64\x61\x74\141\x2d\163\164\171\x6c\x65", $b8HPW); goto TUAuv; Xtuvo: return $this->addLazyLoadClass($oMvxH); goto jtIan; TUAuv: D6qtB: goto e2D3q; PpqRf: $b8HPW = $oMvxH->getAttribute("\x73\164\x79\x6c\145"); goto qIKkq; qIKkq: if (!$b8HPW) { goto D6qtB; } goto KNmAW; e2D3q: $oMvxH->removeAttribute("\x73\164\x79\x6c\x65"); goto Xtuvo; jtIan: }); goto ASeFV; qhmwm: $C2Sin = "\x5b\163\164\171\154\145\135"; goto RbcNd; uLBc1: Sq5T5: goto qhmwm; xYPe5: $C2Sin = "\x69\155\147"; goto FDgnw; lvZSI: return $vwY7Y; goto Fe4x9; ZEmlj: Skynd: goto lvZSI; RbcNd: if (!DOMCrawler::has($vwY7Y, $C2Sin)) { goto XqQnX; } goto W9mbt; dibd_: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $C2Sin, function (DOMElement $oMvxH) { goto zPC1Z; zewUw: return $this->addLazyLoadClass($oMvxH); goto llI82; cbakj: oWcQ0: goto zewUw; zPC1Z: foreach (self::LAZY_LOAD_PATTERN as $SQ1cp => $GYJ7g) { goto Y2PTi; dUpNm: $qLxZn = $this->applyFilters("\157\x70\164\x69\x6d\151\172\141\164\x69\157\156\x5f\x6d\145\144\151\x61\137\x6c\x61\172\x79\137\x6c\157\141\x64\137\160\x6c\141\x63\145\150\157\x6c\144\145\x72", '', $KcXuZ, $Lh3fh); goto SUnmf; Iz0yu: ZPh3O: goto ub0iQ; mUGrU: if ($SQ1cp === "\163\162\143") { goto ZPh3O; } goto AU7xI; AU7xI: $oMvxH->removeAttribute($SQ1cp); goto XpRgG; poQfk: QPRI0: goto bJrsn; ojrJO: $KcXuZ = $oMvxH->getAttribute("\144\141\x74\x61\55\151\x64"); goto dUpNm; DbbP2: czF5N: goto poQfk; Y2PTi: $b8HPW = $oMvxH->getAttribute($SQ1cp); goto qJnb7; SUnmf: $oMvxH->setAttribute($SQ1cp, $qLxZn); goto DbbP2; XpRgG: goto czF5N; goto Iz0yu; qJnb7: if (!$b8HPW) { goto mUdjV; } goto dW78S; dW78S: $oMvxH->setAttribute($GYJ7g, $b8HPW); goto XLZAj; ub0iQ: $Lh3fh = DOMCrawler::getNodeAttributes($oMvxH); goto ojrJO; XLZAj: mUdjV: goto mUGrU; bJrsn: } goto cbakj; llI82: }, false, true); goto uLBc1; FDgnw: if (!DOMCrawler::has($vwY7Y, $C2Sin)) { goto Sq5T5; } goto dibd_; ASeFV: XqQnX: goto ZEmlj; Fe4x9: } public function addLazyLoadClass(DOMElement $oMvxH) { goto ODAuw; NElij: $pQBWE .= "\40\x6c\x61\172\171\154\157\141\x64"; goto KkKoQ; KkKoQ: $oMvxH->setAttribute("\x63\154\141\163\163", rtrim($pQBWE)); goto Aoweq; Aoweq: return $oMvxH; goto mBbQt; ODAuw: $pQBWE = $oMvxH->getAttribute("\143\154\x61\163\163"); goto NElij; mBbQt: } }
