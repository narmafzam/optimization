<?php
 namespace Optimization\Media; use Boilerplate\DOMCrawler; use DOMElement; class LazyLoad extends Common { const LAZY_LOAD_PATTERN = array("\163\162\143" => "\144\x61\164\141\55\x73\x72\143", "\x73\151\x7a\145\x73" => "\144\x61\x74\141\55\x73\151\172\x65\163", "\x73\162\x63\x73\145\164" => "\x64\x61\164\x61\55\x73\162\143\163\x65\x74"); public function addFilters() : self { $this->addFilter("\x6c\x61\172\171\137\154\x6f\141\144\x5f\x65\x6e\141\142\x6c\x65", "\x5f\137\x72\145\164\165\162\x6e\137\x74\162\165\x65")->addFilter("\x77\x70\x5f\154\x61\x7a\x79\137\x6c\x6f\x61\x64\151\x6e\x67\137\x65\156\141\142\154\x65\x64", "\x5f\137\x72\145\164\165\162\x6e\137\x74\x72\x75\145")->addFilter("\x6f\x70\x74\151\155\x69\x7a\x61\x74\151\157\x6e\137\142\x75\146\x66\145\162\137\160\x72\157\143\x65\163\163", [$this, "\x6c\x61\172\171\114\157\141\144\x48\x74\x6d\x6c\111\155\x61\x67\x65\x73"], 1, 15)->addFilter("\157\x70\164\x69\155\151\x7a\x61\x74\151\157\156\x5f\142\165\146\146\145\162\137\156\x6f\x74\137\160\162\157\143\x65\x73\163\x65\x64", [$this, "\x6c\141\172\x79\114\157\x61\144\x48\164\x6d\154\111\155\x61\x67\x65\x73"], 1, 15)->addFilter("\142\157\151\x6c\145\x72\x70\154\141\x74\145\137\x61\163\163\145\x74\137\151\156\154\x69\x6e\x65\x5f\x6a\141\x76\141\x73\x63\162\x69\160\x74", [$this, "\x61\144\x64\111\156\154\151\156\145\x53\x63\x72\x69\x70\x74\x73"], 1, 99); return parent::addFilters(); } public function isAllow() { return $this->applyFilters("\157\x70\164\x69\x6d\x69\x7a\x61\x74\x69\x6f\x6e\137\x6c\141\172\171\x5f\x6c\x6f\x61\144\x5f\143\x61\x6e\137\x70\162\157\143\x65\x73\163", true); } public function addInlineScripts($SIERD = array()) { goto JpOMq; JpOMq: $vpza6 = $this->renderTwigTemplate("\x69\156\x6c\x69\x6e\x65\56\152\x73"); goto xhHpW; k6_nK: vqwVX: goto Mzkmp; Mzkmp: return $SIERD; goto KEutM; xhHpW: if (!$vpza6) { goto vqwVX; } goto Whtcv; Whtcv: $SIERD[] = $vpza6; goto k6_nK; KEutM: } public function lazyLoadHtmlImages($vwY7Y) { goto RXxci; Gk4d7: xks6d: goto w2OsU; RXxci: if (!($vwY7Y && $this->isAllow())) { goto xks6d; } goto EfuNY; EfuNY: $C2Sin = "\x69\x6d\x67"; goto tASce; GhXu0: QWaZ7: goto Gk4d7; cyY3k: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $C2Sin, function (DOMElement $oMvxH) { goto Syn9J; APDod: Xbwb6: goto s9o37; s9o37: $oMvxH->removeAttribute("\163\164\171\x6c\x65"); goto SP0az; Syn9J: $b8HPW = $oMvxH->getAttribute("\x73\164\171\154\145"); goto qWxw1; qWxw1: if (!$b8HPW) { goto Xbwb6; } goto jim9X; SP0az: return $this->addLazyLoadClass($oMvxH); goto Kt8pS; jim9X: $oMvxH->setAttribute("\144\x61\x74\x61\55\x73\164\x79\x6c\x65", $b8HPW); goto APDod; Kt8pS: }); goto GhXu0; hJmK_: $C2Sin = "\133\163\x74\x79\x6c\x65\x5d"; goto gOHvN; tASce: if (!DOMCrawler::has($vwY7Y, $C2Sin)) { goto bn8A_; } goto nU925; nU925: $vwY7Y = DOMCrawler::elementsMap($vwY7Y, $C2Sin, function (DOMElement $oMvxH) { goto ZSUQm; ZSUQm: foreach (self::LAZY_LOAD_PATTERN as $SQ1cp => $GYJ7g) { goto Wu6Av; Wu6Av: $b8HPW = $oMvxH->getAttribute($SQ1cp); goto anNoC; eglNi: $KcXuZ = $oMvxH->getAttribute("\x64\141\x74\x61\55\151\x64"); goto t6PKg; SI7Gn: if ($SQ1cp === "\163\x72\x63") { goto APcws; } goto MCMF2; ANWEK: goto dnfWn; goto sbS3v; t6PKg: $qLxZn = $this->applyFilters("\x6f\160\x74\151\155\x69\x7a\141\164\x69\x6f\156\137\x6d\x65\x64\151\x61\137\x6c\x61\x7a\171\137\x6c\x6f\x61\144\x5f\160\154\141\143\x65\x68\157\154\144\x65\162", '', $KcXuZ, $Lh3fh); goto ilmHv; sbS3v: APcws: goto KDxO9; MCMF2: $oMvxH->removeAttribute($SQ1cp); goto ANWEK; QL0Og: nH2it: goto SI7Gn; JrgB3: DHw4d: goto TYUTM; KDxO9: $Lh3fh = DOMCrawler::getNodeAttributes($oMvxH); goto eglNi; ilmHv: $oMvxH->setAttribute($SQ1cp, $qLxZn); goto Lz1K7; Lz1K7: dnfWn: goto JrgB3; anNoC: if (!$b8HPW) { goto nH2it; } goto MfwNn; MfwNn: $oMvxH->setAttribute($GYJ7g, $b8HPW); goto QL0Og; TYUTM: } goto VjZMs; A6sJa: return $this->addLazyLoadClass($oMvxH); goto NFTAa; VjZMs: rdVVA: goto A6sJa; NFTAa: }, false, true); goto IlON1; w2OsU: return $vwY7Y; goto qIGwH; IlON1: bn8A_: goto hJmK_; gOHvN: if (!DOMCrawler::has($vwY7Y, $C2Sin)) { goto QWaZ7; } goto cyY3k; qIGwH: } public function addLazyLoadClass(DOMElement $oMvxH) { goto acjVV; Nfv0j: $oMvxH->setAttribute("\x63\154\x61\163\163", rtrim($pQBWE)); goto YKYjZ; acjVV: $pQBWE = $oMvxH->getAttribute("\x63\x6c\x61\x73\163"); goto gW3hU; gW3hU: $pQBWE .= "\x20\x6c\x61\x7a\171\x6c\157\141\144"; goto Nfv0j; YKYjZ: return $oMvxH; goto GSgeW; GSgeW: } }
