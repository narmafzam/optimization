<?php
 namespace Optimization\Cache; use Boilerplate\Util\ArrayUtil; use Boilerplate\Util\StringUtil; use Boilerplate\Notice; use Optimization\Util\FormatUtil; class Cache extends Common { public function __construct() { goto REr3Z; REr3Z: if (!$this->loadConstant()) { goto Z3W9P; } goto wt1V0; wt1V0: parent::__construct(); goto ZgB9u; Sd4g7: Z3W9P: goto Rrizv; ZgB9u: $this->loadRequirement(); goto Sd4g7; Rrizv: } public function addFilters() : self { $this->addFilter("\x6f\x70\x74\x69\155\x69\x7a\x61\164\x69\x6f\156\x5f\143\162\x6f\x6e\x5f\145\166\145\156\164\163", [$this, "\x61\144\x64\x54\x6f\103\162\157\156\105\x76\x65\156\164"])->addFilter("\x63\157\x6d\155\145\x6e\164\137\x63\x6f\x6f\153\x69\x65\137\154\151\x66\x65\164\x69\155\x65", [$this, "\x63\157\x6d\155\x65\x6e\164\103\157\157\x6b\151\145\114\x69\146\145\164\x69\155\x65"])->addFilter("\160\x72\145\x6c\157\x61\144\x5f\x72\145\x6a\145\143\164\x5f\165\x72\x69", [$this, "\x61\144\144\x52\x65\152\145\143\164\x55\x72\151"], 2)->addFilter("\x66\151\154\x65\163\171\x73\164\x65\x6d\137\162\145\x71\165\151\x72\145\137\x64\151\x72\x65\143\x74\x6f\x72\151\145\x73", [$this, "\141\144\x64\124\x6f\122\x65\161\x75\151\162\x65\104\151\162\145\143\x74\157\x72\x79"])->addFilter("\146\151\x6c\x65\x73\171\163\x74\x65\155\137\x72\x65\x71\165\x69\x72\145\137\x64\151\162\x65\143\x74\157\162\x69\x65\x73", [$this, "\141\x64\144\124\x6f\x52\145\161\x75\x69\162\x65\104\x69\x72\x65\143\x74\157\x72\x79"])->addFilter("\x6f\160\x74\151\x6d\x69\172\141\x74\x69\157\x6e\137\x63\x61\x6e\x5f\x70\162\x65\x6c\157\141\x64", [$this, "\x69\x73\101\154\162\145\x61\x64\171\103\x61\143\x68\x65\144"], 2)->addFilter("\157\x70\x74\x69\x6d\x69\x7a\141\x74\151\157\x6e\137\151\x73\x5f\x6f\160\164\151\155\151\x7a\x65\144", [$this, "\x69\163\x41\x6c\162\x65\141\144\171\103\x61\x63\150\x65\x64"], 2)->addFilter("\x6f\x70\x74\151\x6d\x69\x7a\x61\164\151\x6f\x6e\137\x63\141\143\x68\145\x5f\x71\x75\x65\x72\x79\x5f\x73\x74\162\x69\156\x67\163", [$this, "\142\145\164\x74\145\x72\116\x67\x69\156\170\x43\x6f\x6d\160\141\x74\151\x62\151\154\151\x74\171"]); return parent::addFilters(); } public function loadConstant() { goto jr3aR; qLUHO: return $pHq9s; goto noZUt; ipc4S: Notice::warning(sprintf(__("\x25\163\x20\143\x6f\x6e\x73\164\141\156\164\x20\156\x6f\164\40\144\145\x66\151\156\x65\x64\54\x20\160\x6c\145\141\x73\145\40\144\145\x66\151\x6e\x65\x20\164\x68\141\x74\x20\x69\156\x20\167\160\x2d\x63\x6f\156\x66\151\147\56\x70\150\160\x2e", OPTIMIZATION_DOMAIN), "\x3c\x63\157\144\x65\76\127\x50\137\x43\101\103\x48\105\137\x50\x41\x54\110\74\x2f\x63\157\x64\145\76")); goto FGk3_; gyjjo: define("\117\x50\x54\x49\115\111\132\x41\x54\x49\x4f\x4e\x5f\x42\125\123\x54\x49\x4e\x47\x5f\120\101\124\x48", untrailingslashit($GuTuU) . "\57\x62\165\x73\164\x69\156\147"); goto Z7c22; JttpP: define("\117\120\x54\111\x4d\x49\x5a\x41\124\111\117\116\137\x43\101\103\110\x45\137\120\x41\124\x48", $GuTuU . "\57\167\160\x2d\x63\x61\143\x68\x65"); goto iYoSD; fYULB: QIBFb: goto qLUHO; S7GJP: g0fzw: goto JttpP; Z7c22: $this->getFilesystem()->mkdir(OPTIMIZATION_BUSTING_PATH); goto fYULB; jr3aR: $pHq9s = false; goto a7BhB; iYoSD: $this->getFilesystem()->mkdir(OPTIMIZATION_CACHE_PATH); goto gyjjo; FGk3_: goto QIBFb; goto S7GJP; a7BhB: if ($GuTuU = Util::getConstant("\127\x50\137\x43\101\x43\110\105\x5f\120\x41\124\110")) { goto g0fzw; } goto ipc4S; noZUt: } public function loadRequirement() { goto LwlrD; fizsG: Advanced::getInstance(); goto lnbKe; D6QIa: Purge::getInstance(); goto OlKYP; OlKYP: WPCache::getInstance(); goto fizsG; lnbKe: BWq_z: goto nTq3D; LwlrD: if (!is_admin()) { goto BWq_z; } goto D6QIa; nTq3D: } public function addToCronEvent($UGmeO) { $UGmeO["\157\160\164\151\x6d\x69\x7a\x61\x74\151\x6f\156\x5f\x70\x75\162\x67\145\x5f\x74\x69\155\145\137\145\x76\145\156\x74"] = __("\x53\x63\150\x65\x64\x75\x6c\x65\144\40\x43\141\143\x68\145\40\120\165\x72\x67\145", OPTIMIZATION_DOMAIN); return $UGmeO; } public function isAlreadyCached($wFOOF, $kJMVe) { goto pwfSZ; yhE1e: if (!is_string($hgTz4)) { goto alOtG; } goto nxAAw; uOg0N: L66J7: goto eTL6r; EMVbE: $oI6GX = Util::getConstant("\x4f\120\124\x49\x4d\x49\x5a\101\x54\111\117\x4e\137\103\x41\x43\110\x45\137\120\101\124\110") . $gJJsP["\150\157\163\x74"] . strtolower($gJJsP["\x70\x61\164\150"] . $gJJsP["\161\165\x65\x72\171"]) . "\x69\156\144\145\x78" . $cJrik . $EUWxk . "\56\150\x74\x6d\x6c"; goto opNod; nxAAw: $gJJsP = FormatUtil::getParseUrl($hgTz4); goto iGRA5; Q5LQv: if (isset($EUWxk)) { goto Z0zg1; } goto zms8J; iGRA5: $gJJsP["\150\157\x73\x74"] = FormatUtil::maybeUrlNoDots($gJJsP["\150\x6f\163\164"]); goto N2l2m; pT4Dc: $hgTz4 = ArrayUtil::get($kJMVe, "\x75\162\154", $kJMVe); goto yhE1e; HLCCZ: if (!$wFOOF) { goto L66J7; } goto Q5LQv; ife7i: $cJrik = ArrayUtil::get($kJMVe, "\155\157\x62\x69\154\x65") ? "\55\x6d\157\142\x69\x6c\145" : ''; goto EMVbE; SzXIi: iASXK: goto ife7i; UGJOj: alOtG: goto uOg0N; pwfSZ: static $EUWxk; goto HLCCZ; zms8J: $EUWxk = is_ssl() ? "\55\x68\x74\x74\x70\x73" : ''; goto Bnrcq; N2l2m: $gJJsP["\160\x61\164\150"] = trailingslashit($gJJsP["\x70\141\x74\x68"]); goto l7kR1; l7kR1: if (!('' !== $gJJsP["\161\165\x65\162\x79"])) { goto iASXK; } goto RS9U_; eTL6r: return $wFOOF; goto RD72t; opNod: $wFOOF = $this->getFilesystem()->exists($oI6GX); goto UGJOj; Bnrcq: Z0zg1: goto pT4Dc; RS9U_: $gJJsP["\x71\165\145\162\171"] = "\x23" . $gJJsP["\161\165\x65\x72\171"] . "\57"; goto SzXIi; RD72t: } public function addRejectUri($p6fEV, $y_msF) { return $p6fEV; } public function addOptionsToConfig(array $LfYsX, array $K87Lv = []) { goto qcKNN; MpyFX: $K87Lv = wp_parse_args($K87Lv, [Setting::CACHE_SSL => 0, Setting::CACHE_WEBP => 0, Setting::CACHE_REJECT_UA => '', Setting::CACHE_REJECT_URI => '', Setting::CACHE_QUERY_STRINGS => '', Setting::CACHE_REJECT_COOKIES => '']); goto sSakt; t6ghl: z7jxl: goto crovr; FPw7F: YY1Ut: goto MpyFX; qcKNN: if (!$this->applyFilters("\x6f\x70\x74\x69\x6d\x69\172\x61\164\x69\157\x6e\137\143\x6f\x6d\x6d\157\x6e\137\x63\141\x63\x68\x65\137\154\157\x67\147\x65\x64\137\165\163\145\x72\163", false)) { goto X5A_6; } goto mdUDa; jKeAP: $LfYsX["\143\141\143\x68\x65\137\151\147\156\x6f\x72\x65\144\137\x70\141\x72\141\x6d\145\164\x65\162\x73"] = call_user_func("\166\141\x72\x5f\x65\x78\x70\x6f\162\164", Setting::getIgnoredParameters(), true); goto fl3We; cn_ua: VpDKi: goto jKeAP; crovr: return $LfYsX; goto BTQ3n; sSakt: foreach ($K87Lv as $qTQA0 => $b8HPW) { goto tyXlp; f13g8: $LfYsX[$qTQA0] = $b8HPW; goto BzqCM; PAyOc: yw8uz: goto YbuLj; BzqCM: IP69t: goto CmsYC; YbuLj: khSc7: goto ST7qT; tyXlp: switch ($qTQA0) { case Setting::CACHE_SSL: case Setting::CACHE_WEBP: goto v3CRb; oDnQj: jxGNt: goto yNwuZ; kGGF2: Setting::getObject()::updateSetting(Setting::CACHE_SSL, "\157\156"); goto quajK; v3CRb: $b8HPW = (int) $b8HPW; goto lwKPh; quajK: $b8HPW = 1; goto ISDy9; IvqDX: D9RVB: goto oDnQj; mPYbi: if (!Util::isSSLWebsite()) { goto xJlcV; } goto kGGF2; yNwuZ: goto khSc7; goto uicUB; ISDy9: xJlcV: goto IvqDX; UCFnJ: if (!(1 !== $b8HPW)) { goto D9RVB; } goto mPYbi; lwKPh: if (!(Setting::CACHE_SSL === $qTQA0)) { goto jxGNt; } goto UCFnJ; uicUB: case Setting::CACHE_REJECT_URI: $b8HPW = StringUtil::addAroundQuotes(Setting::getCacheRejectUri()); goto khSc7; case Setting::CACHE_QUERY_STRINGS: $b8HPW = call_user_func("\166\x61\x72\137\x65\x78\160\157\162\164", Setting::getCacheQueryString(), true); goto khSc7; case Setting::CACHE_REJECT_COOKIES: goto haMWB; cq2EK: $b8HPW = StringUtil::addAroundQuotes($b8HPW); goto WIHZM; mrgW7: if (!($b8HPW && Setting::isCacheLoggedUser())) { goto wLsLJ; } goto cGbu4; cGbu4: $zuYNJ = explode(COOKIEHASH, LOGGED_IN_COOKIE); goto r6qnk; YdDf2: $b8HPW = preg_replace("\x2f\x5c\x7c" . $zuYNJ . "\x5c\174\57", "\174", "\x7c" . $b8HPW . "\x7c"); goto tlZLP; haMWB: $b8HPW = Setting::getCacheRejectCookies(); goto mrgW7; r6qnk: $zuYNJ = array_map("\160\x72\x65\x67\x5f\x71\x75\x6f\x74\x65", $zuYNJ); goto zITRQ; zITRQ: $zuYNJ = implode("\x5b\136\x7c\135\52", $zuYNJ); goto YdDf2; tlZLP: $b8HPW = trim($b8HPW, "\174"); goto ORkB4; ORkB4: wLsLJ: goto cq2EK; WIHZM: goto khSc7; goto sRiMK; sRiMK: case Setting::CACHE_REJECT_UA: $b8HPW = StringUtil::addAroundQuotes(Setting::getCacheRejectUA()); goto khSc7; default: $b8HPW = null; } goto PAyOc; CmsYC: uYQhM: goto ygDgh; ST7qT: if (!(null !== $b8HPW)) { goto IP69t; } goto f13g8; ygDgh: } goto cn_ua; fl3We: $LfYsX["\143\141\x63\x68\145\137\155\141\x6e\x64\141\164\157\x72\171\x5f\x63\157\x6f\x6b\x69\x65\x73"] = call_user_func("\166\141\162\x5f\145\170\160\157\162\x74", Setting::getCacheMandatoryCookies(), true); goto DC3HO; aZxoy: $LfYsX["\165\x72\x6c\x5f\x6e\x6f\x5f\x64\x6f\164\163"] = 1; goto t6ghl; mdUDa: $LfYsX["\143\x6f\x6d\155\157\156\x5f\143\x61\x63\150\145\137\154\157\147\x67\145\x64\137\165\x73\x65\x72\x73"] = 1; goto JkTAE; DC3HO: $LfYsX["\x63\141\143\x68\145\x5f\144\171\156\x61\155\151\143\137\143\x6f\157\153\151\x65\163"] = call_user_func("\x76\141\x72\x5f\145\x78\x70\x6f\x72\x74", Setting::getCacheDynamicCookies(), true); goto lDR2n; ZPRiw: if (!(!isset($K87Lv[Setting::CACHE_WEBP]) && $this->applyFilters("\157\160\x74\x69\155\151\x7a\x61\x74\x69\157\x6e\x5f\x63\141\143\150\x65\x5f\144\151\163\141\x62\x6c\x65\x5f\167\145\x62\x70\137\143\x61\x63\x68\145", false))) { goto YY1Ut; } goto U9K8S; JkTAE: X5A_6: goto ZPRiw; lDR2n: if (!FormatUtil::isUrlNoDots()) { goto z7jxl; } goto aZxoy; U9K8S: $K87Lv[Setting::CACHE_WEBP] = 0; goto FPw7F; BTQ3n: } public function commentCookieLifetime($qqjK7) { $qqjK7 = $this->applyFilters("\157\160\164\x69\155\151\x7a\141\164\151\x6f\x6e\x5f\143\141\x63\150\x65\x5f\143\157\x6d\155\x65\156\164\137\x63\x6f\x6f\153\151\145\137\154\x69\x66\145\x74\151\155\145", 3 * MINUTE_IN_SECONDS); return $qqjK7; } public function addCacheQueryStrings($Qj8wK) { goto vbrAa; vbrAa: $gKlG3 = Setting::getCacheQueryString(); goto u0oXy; rA7Wv: return $Qj8wK; goto hKUOj; u0oXy: $Qj8wK = array_merge($Qj8wK, $gKlG3); goto rA7Wv; hKUOj: } public function addToRequireDirectory($lP5J0) { goto SESSy; HQB1L: return $lP5J0; goto VClDi; P4l45: $lP5J0[] = Util::getConstant("\117\120\124\x49\x4d\x49\x5a\101\x54\111\117\116\137\103\x4f\x4e\x46\x49\x47\x5f\120\101\x54\x48"); goto noBSh; noBSh: $lP5J0[] = Util::getConstant("\x4f\120\x54\111\x4d\111\132\101\124\x49\117\116\x5f\x42\x55\123\x54\111\x4e\107\x5f\120\101\124\110"); goto HQB1L; SESSy: $lP5J0[] = Util::getConstant("\117\x50\x54\x49\x4d\x49\132\101\x54\x49\x4f\x4e\x5f\x43\x41\103\110\x45\x5f\x50\x41\124\x48"); goto P4l45; VClDi: } public function betterNginxCompatibility($Qj8wK) { goto iqOvB; iqOvB: global $t3Kmn; goto e_lYD; nCbSb: zAR8t: goto PG4WW; CtAq9: $Qj8wK[] = "\161"; goto nCbSb; e_lYD: if (!$t3Kmn) { goto zAR8t; } goto CtAq9; PG4WW: return $Qj8wK; goto lciwb; lciwb: } public function updateSslOptionAfterSaveHomeUrl(array $SQ1cp, array $GYJ7g) { goto XC_z0; X_7Km: Setting::getObject()::updateSetting(Setting::CACHE_SSL, "\x68\x74\x74\x70\x73" === $q2dHY ? 1 : 0); goto Sy2Al; iSG6u: $q2dHY = FormatUtil::extractUrlComponent($GYJ7g, PHP_URL_SCHEME); goto X_7Km; Sy2Al: q8zmg: goto YHX_o; XC_z0: if (!($SQ1cp !== $GYJ7g && Setting::isCacheSSL())) { goto q8zmg; } goto iSG6u; YHX_o: } }
