<?php
 namespace Optimization\Cache; use Boilerplate\Util\ArrayUtil; use Boilerplate\Util\StringUtil; use Boilerplate\Notice; use Optimization\Util\FormatUtil; class Cache extends Common { public function __construct() { goto YvJUZ; DWvPB: parent::__construct(); goto k_YUt; Imxov: IScIw: goto lXj5O; YvJUZ: if (!$this->loadConstant()) { goto IScIw; } goto DWvPB; k_YUt: $this->loadRequirement(); goto Imxov; lXj5O: } public function addFilters() : self { $this->addFilter("\x6f\160\164\151\x6d\151\x7a\141\x74\x69\x6f\156\x5f\x63\162\157\156\137\x65\166\145\156\164\x73", [$this, "\x61\x64\x64\124\157\x43\x72\x6f\156\x45\166\145\156\x74"])->addFilter("\x63\x6f\x6d\x6d\145\x6e\x74\137\x63\x6f\157\153\151\x65\x5f\154\x69\x66\145\164\151\x6d\145", [$this, "\x63\x6f\x6d\155\145\x6e\x74\x43\x6f\157\153\151\145\x4c\x69\146\145\x74\151\155\x65"])->addFilter("\x70\x72\145\x6c\157\141\x64\x5f\x72\x65\152\145\x63\164\x5f\x75\x72\151", [$this, "\x61\x64\144\x52\145\152\145\143\164\x55\x72\x69"], 2)->addFilter("\146\151\154\x65\x73\x79\x73\164\x65\155\137\162\145\x71\165\151\x72\x65\137\x64\151\x72\x65\x63\x74\x6f\162\x69\x65\163", [$this, "\141\x64\144\x54\x6f\x52\x65\161\165\x69\x72\145\x44\151\162\145\143\164\157\162\x79"])->addFilter("\146\x69\154\145\163\x79\163\164\145\155\137\x72\x65\161\165\151\162\145\137\x64\151\x72\x65\143\x74\157\162\151\145\163", [$this, "\x61\144\144\x54\157\122\x65\161\165\x69\162\145\104\x69\x72\x65\x63\164\157\x72\x79"])->addFilter("\157\x70\164\151\155\x69\x7a\141\x74\x69\x6f\x6e\137\143\141\156\x5f\x70\x72\145\154\x6f\x61\144", [$this, "\151\x73\x41\154\x72\x65\x61\x64\171\x43\x61\143\x68\145\x64"], 2)->addFilter("\x6f\x70\164\x69\x6d\x69\172\x61\x74\x69\157\156\137\x69\163\137\157\160\164\x69\x6d\x69\x7a\145\144", [$this, "\x69\163\101\x6c\162\x65\x61\x64\x79\x43\x61\143\150\x65\x64"], 2)->addFilter("\157\x70\164\x69\x6d\151\x7a\141\164\x69\157\156\x5f\143\x61\143\x68\145\x5f\x71\165\145\162\171\137\163\164\x72\x69\x6e\147\163", [$this, "\142\145\x74\x74\x65\162\x4e\x67\151\x6e\170\103\x6f\155\x70\x61\x74\151\x62\x69\x6c\x69\x74\171"]); return parent::addFilters(); } public function loadConstant() { goto Wda5U; qDRsR: goto T__CT; goto WZEBw; FueyT: define("\117\x50\124\x49\115\111\132\x41\124\111\x4f\116\137\x42\125\123\x54\x49\x4e\x47\137\120\101\x54\110", untrailingslashit($GuTuU) . "\57\x62\x75\x73\x74\x69\x6e\x67"); goto ONP0P; ONP0P: $pHq9s &= $this->getFilesystem()->mkdir(OPTIMIZATION_BUSTING_PATH); goto WDwVv; pCDNZ: if ($GuTuU = Util::getConstant("\x57\120\137\103\101\x43\x48\x45\137\x50\101\124\110")) { goto di087; } goto nTsXG; WDwVv: T__CT: goto wGWYn; wGWYn: return $pHq9s; goto RRWYZ; zgw57: $pHq9s = $this->getFilesystem()->mkdir(OPTIMIZATION_CACHE_PATH); goto FueyT; WBlXS: define("\x4f\x50\124\x49\115\x49\x5a\101\124\x49\117\x4e\137\x43\x41\103\x48\x45\137\x50\101\124\110", $GuTuU . "\57\167\x70\x2d\x63\x61\x63\150\145"); goto zgw57; Wda5U: $pHq9s = false; goto pCDNZ; nTsXG: Notice::warning(sprintf(__("\x25\x73\x20\143\x6f\x6e\163\164\x61\x6e\164\40\156\157\x74\40\x64\145\146\151\156\x65\144\x2c\x20\160\x6c\x65\x61\x73\145\40\x64\145\x66\151\156\x65\x20\164\x68\141\164\40\151\x6e\40\167\160\x2d\x63\x6f\x6e\x66\x69\147\56\160\x68\x70\x2e", OPTIMIZATION_DOMAIN), "\74\x63\x6f\x64\x65\x3e\127\120\x5f\103\101\103\110\x45\137\x50\x41\x54\110\74\x2f\x63\157\x64\145\x3e")); goto qDRsR; WZEBw: di087: goto WBlXS; RRWYZ: } public function loadRequirement() { goto F91wf; B23xX: WPCache::getInstance(); goto p7WdP; FQqlH: ThnYs: goto lFD_L; F91wf: if (!is_admin()) { goto ThnYs; } goto k4lHr; p7WdP: Advanced::getInstance(); goto FQqlH; k4lHr: Purge::getInstance(); goto B23xX; lFD_L: } public function addToCronEvent($UGmeO) { $UGmeO["\157\x70\164\151\155\151\172\x61\164\151\x6f\x6e\x5f\160\165\162\x67\145\x5f\164\x69\x6d\x65\x5f\x65\166\x65\156\x74"] = __("\x53\143\x68\x65\144\165\x6c\x65\144\x20\103\141\143\x68\x65\x20\x50\x75\162\x67\145", OPTIMIZATION_DOMAIN); return $UGmeO; } public function isAlreadyCached($wFOOF, $kJMVe) { goto vcoDY; Ezaoy: $gJJsP["\161\x75\x65\162\171"] = "\43" . $gJJsP["\x71\x75\x65\x72\171"] . "\x2f"; goto I0lK2; CBi5Z: $oI6GX = Util::getConstant("\117\120\x54\x49\115\111\132\101\124\111\117\116\137\103\101\x43\110\105\x5f\x50\101\124\x48") . $gJJsP["\x68\x6f\x73\164"] . strtolower($gJJsP["\x70\x61\x74\x68"] . $gJJsP["\161\x75\x65\162\x79"]) . "\151\156\144\x65\x78" . $cJrik . $EUWxk . "\x2e\x68\164\x6d\154"; goto txehx; txehx: $wFOOF = $this->getFilesystem()->exists($oI6GX); goto mS_RY; unCKU: return $wFOOF; goto a8LWZ; AK0jB: $gJJsP = FormatUtil::getParseUrl($hgTz4); goto fYKb9; gAFna: if (!('' !== $gJJsP["\161\x75\x65\x72\171"])) { goto x7nE0; } goto Ezaoy; CocI7: if (!$wFOOF) { goto fxsBU; } goto pV1m8; hrCnc: jQs_p: goto Baf_7; eaCcz: $cJrik = ArrayUtil::get($kJMVe, "\155\157\142\x69\154\x65") ? "\55\155\x6f\142\x69\154\145" : ''; goto CBi5Z; mS_RY: Tmn5C: goto sPHLt; HExQh: $gJJsP["\x70\141\164\150"] = trailingslashit($gJJsP["\160\x61\164\150"]); goto gAFna; sPHLt: fxsBU: goto unCKU; I0lK2: x7nE0: goto eaCcz; aC8Wa: if (!is_string($hgTz4)) { goto Tmn5C; } goto AK0jB; EIWwU: $EUWxk = is_ssl() ? "\55\150\164\x74\x70\163" : ''; goto hrCnc; Baf_7: $hgTz4 = ArrayUtil::get($kJMVe, "\165\162\x6c", $kJMVe); goto aC8Wa; pV1m8: if (isset($EUWxk)) { goto jQs_p; } goto EIWwU; fYKb9: $gJJsP["\150\x6f\x73\x74"] = FormatUtil::maybeUrlNoDots($gJJsP["\150\x6f\x73\164"]); goto HExQh; vcoDY: static $EUWxk; goto CocI7; a8LWZ: } public function addRejectUri($p6fEV, $y_msF) { return $p6fEV; } public function addOptionsToConfig(array $LfYsX, array $K87Lv = []) { goto sEN29; oHgk2: $LfYsX["\x63\157\x6d\155\157\x6e\137\143\x61\143\x68\x65\x5f\154\x6f\147\147\x65\x64\x5f\165\163\x65\x72\163"] = 1; goto TGzl0; uguYL: if (!FormatUtil::isUrlNoDots()) { goto ubOzb; } goto pFVaG; aSuJM: foreach ($K87Lv as $qTQA0 => $b8HPW) { goto cC76L; cC76L: switch ($qTQA0) { case Setting::CACHE_SSL: case Setting::CACHE_WEBP: goto pRjad; Wnl4b: $b8HPW = 1; goto CmDHo; oYqPW: if (!Util::isSSLWebsite()) { goto Vv7UA; } goto YXLj2; pRjad: $b8HPW = (int) $b8HPW; goto iszK6; mhMSp: HJ9gy: goto tMp_0; CmDHo: Vv7UA: goto iOBac; tMp_0: goto ESjBD; goto dO2Y0; iszK6: if (!(Setting::CACHE_SSL === $qTQA0)) { goto HJ9gy; } goto jHuOt; YXLj2: Setting::getObject()::updateSetting(Setting::CACHE_SSL, "\157\x6e"); goto Wnl4b; jHuOt: if (!(1 !== $b8HPW)) { goto d1KON; } goto oYqPW; iOBac: d1KON: goto mhMSp; dO2Y0: case Setting::CACHE_REJECT_URI: $b8HPW = StringUtil::addAroundQuotes(Setting::getCacheRejectUri()); goto ESjBD; case Setting::CACHE_QUERY_STRINGS: $b8HPW = call_user_func("\166\141\162\137\x65\x78\x70\x6f\162\164", Setting::getCacheQueryString(), true); goto ESjBD; case Setting::CACHE_REJECT_COOKIES: goto hpeFP; dQskF: $zuYNJ = implode("\x5b\x5e\174\135\52", $zuYNJ); goto fl6wp; ELruU: CzS6r: goto yo0Zf; yo0Zf: $b8HPW = StringUtil::addAroundQuotes($b8HPW); goto gZ62K; Awfcr: $zuYNJ = array_map("\x70\x72\145\147\x5f\161\165\157\164\145", $zuYNJ); goto dQskF; gZ62K: goto ESjBD; goto AOmtU; chj5o: $zuYNJ = explode(COOKIEHASH, LOGGED_IN_COOKIE); goto Awfcr; fl6wp: $b8HPW = preg_replace("\x2f\x5c\x7c" . $zuYNJ . "\134\x7c\x2f", "\174", "\174" . $b8HPW . "\x7c"); goto UdgjG; p8VdX: if (!($b8HPW && Setting::isCacheLoggedUser())) { goto CzS6r; } goto chj5o; hpeFP: $b8HPW = Setting::getCacheRejectCookies(); goto p8VdX; UdgjG: $b8HPW = trim($b8HPW, "\x7c"); goto ELruU; AOmtU: case Setting::CACHE_REJECT_UA: $b8HPW = StringUtil::addAroundQuotes(Setting::getCacheRejectUA()); goto ESjBD; default: $b8HPW = null; } goto Dh5Nr; Dh5Nr: y0KXZ: goto OeqQy; VRoYn: if (!(null !== $b8HPW)) { goto UCt6t; } goto yGZn6; OeqQy: ESjBD: goto VRoYn; sDKFz: UCt6t: goto vQx4D; vQx4D: fK71b: goto KPfaJ; yGZn6: $LfYsX[$qTQA0] = $b8HPW; goto sDKFz; KPfaJ: } goto V14wK; tQ2P3: uXfmG: goto XN3o0; rYCIA: ubOzb: goto gTj3P; pFVaG: $LfYsX["\165\162\x6c\x5f\x6e\x6f\137\x64\157\x74\x73"] = 1; goto rYCIA; gTj3P: return $LfYsX; goto Y4Zdt; hWDOS: $LfYsX["\x63\x61\x63\x68\145\x5f\x69\x67\156\x6f\x72\x65\x64\x5f\160\141\x72\x61\155\145\164\145\x72\163"] = call_user_func("\x76\141\162\x5f\145\170\x70\157\162\x74", Setting::getIgnoredParameters(), true); goto nzab0; nzab0: $LfYsX["\143\141\x63\x68\145\x5f\155\x61\156\144\141\164\x6f\162\x79\137\x63\157\x6f\x6b\x69\x65\163"] = call_user_func("\x76\141\162\137\145\x78\160\x6f\162\164", Setting::getCacheMandatoryCookies(), true); goto UVPiD; q6BRY: $K87Lv[Setting::CACHE_WEBP] = 0; goto tQ2P3; UVPiD: $LfYsX["\143\x61\x63\x68\x65\x5f\x64\x79\x6e\141\155\151\x63\137\x63\157\157\153\x69\x65\163"] = call_user_func("\x76\141\162\x5f\x65\x78\x70\157\162\x74", Setting::getCacheDynamicCookies(), true); goto uguYL; sEN29: if (!$this->applyFilters("\x6f\160\164\x69\155\151\172\x61\x74\x69\x6f\x6e\137\x63\157\155\x6d\x6f\x6e\137\x63\x61\143\150\x65\x5f\x6c\157\x67\x67\145\144\x5f\165\x73\145\162\x73", false)) { goto a6BaS; } goto oHgk2; XN3o0: $K87Lv = wp_parse_args($K87Lv, [Setting::CACHE_SSL => 0, Setting::CACHE_WEBP => 0, Setting::CACHE_REJECT_UA => '', Setting::CACHE_REJECT_URI => '', Setting::CACHE_QUERY_STRINGS => '', Setting::CACHE_REJECT_COOKIES => '']); goto aSuJM; UKSLF: if (!(!isset($K87Lv[Setting::CACHE_WEBP]) && $this->applyFilters("\157\160\x74\x69\155\151\172\141\x74\151\x6f\156\137\x63\141\143\150\x65\137\144\x69\163\x61\x62\154\x65\x5f\167\145\x62\160\x5f\143\141\x63\150\x65", false))) { goto uXfmG; } goto q6BRY; V14wK: NTcbs: goto hWDOS; TGzl0: a6BaS: goto UKSLF; Y4Zdt: } public function commentCookieLifetime($qqjK7) { $qqjK7 = $this->applyFilters("\157\160\x74\x69\155\151\x7a\x61\x74\151\157\x6e\137\143\x61\143\150\x65\x5f\143\157\x6d\155\145\x6e\164\137\x63\x6f\157\x6b\x69\x65\x5f\154\x69\146\x65\x74\x69\155\145", 3 * MINUTE_IN_SECONDS); return $qqjK7; } public function addCacheQueryStrings($Qj8wK) { goto hstsu; JmSGT: return $Qj8wK; goto mW6Q9; HmY1E: $Qj8wK = array_merge($Qj8wK, $gKlG3); goto JmSGT; hstsu: $gKlG3 = Setting::getCacheQueryString(); goto HmY1E; mW6Q9: } public function addToRequireDirectory($lP5J0) { goto d7KWg; hPF84: return $lP5J0; goto YyNLl; gmWnO: $lP5J0[] = Util::getConstant("\x4f\x50\124\111\115\x49\x5a\x41\x54\x49\x4f\x4e\x5f\x42\125\123\124\x49\x4e\107\x5f\x50\x41\124\110"); goto hPF84; d7KWg: $lP5J0[] = Util::getConstant("\117\120\x54\111\x4d\111\x5a\x41\124\x49\117\116\x5f\103\x41\x43\x48\x45\137\x50\101\124\110"); goto KREmu; KREmu: $lP5J0[] = Util::getConstant("\117\x50\124\x49\x4d\x49\x5a\x41\124\x49\x4f\x4e\137\103\117\x4e\106\x49\107\x5f\120\101\x54\110"); goto gmWnO; YyNLl: } public function betterNginxCompatibility($Qj8wK) { goto MYAv7; U3UbW: $Qj8wK[] = "\x71"; goto nqI3l; v2Orl: return $Qj8wK; goto iQWx2; nqI3l: Gwc9R: goto v2Orl; LsU75: if (!$is_nginx) { goto Gwc9R; } goto U3UbW; MYAv7: global $is_nginx; goto LsU75; iQWx2: } public function updateSslOptionAfterSaveHomeUrl(array $SQ1cp, array $GYJ7g) { goto K0lab; JaPnK: $q2dHY = FormatUtil::extractUrlComponent($GYJ7g, PHP_URL_SCHEME); goto VI_1U; kftU8: CPVKx: goto qeC50; K0lab: if (!($SQ1cp !== $GYJ7g && Setting::isCacheSSL())) { goto CPVKx; } goto JaPnK; VI_1U: Setting::getObject()::updateSetting(Setting::CACHE_SSL, "\x68\x74\x74\x70\163" === $q2dHY ? 1 : 0); goto kftU8; qeC50: } }
