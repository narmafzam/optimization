<?php
 namespace Optimization\Cache; use Boilerplate\Util\AjaxUtil; use Boilerplate\Util\UserUtil; use Optimization\Notice; class WPCache extends Common { public function addActions() : self { $this->addAction("\141\x64\155\151\156\137\x69\156\151\x74", [$this, "\141\144\x6d\x69\156\x49\156\x69\164"])->addAction("\165\x70\144\141\x74\x65\137\x6f\x70\164\151\x6f\x6e\137\157\x70\164\151\155\151\x7a\x61\164\x69\x6f\x6e\x5f\x73\x65\164\164\x69\156\147\x73", [$this, "\155\141\171\x62\145\123\x65\x74"]); return parent::addActions(); } public function addFilters() : self { $this->addFilter("\x73\x69\x74\145\137\163\164\141\164\165\163\x5f\164\145\163\164\x73", [$this, "\141\x64\144\x53\x74\141\164\x75\163\124\x65\163\164"]); return parent::addFilters(); } public function adminInit() { $this->maybeSet(); $this->hasPermission(); } public function maybeSet() { goto xj2N8; CbRNz: $this->setConstant(true); goto lQTf6; lQTf6: dFk6k: goto A91tv; xj2N8: if (!(!AjaxUtil::isAjax() && !Util::getConstant("\104\117\111\116\x47\x5f\101\x55\124\117\x53\x41\x56\105") && !Util::getConstant("\x57\x50\x5f\x43\x41\103\110\105"))) { goto dFk6k; } goto CbRNz; A91tv: } public function setConstant(bool $b8HPW) { goto zJs27; eZgl1: $SWeeO = $this->getContent($b8HPW); goto evy1z; R4Xfp: $b8HPW = $this->applyFilters("\157\x70\164\x69\155\x69\x7a\x61\x74\151\157\x6e\137\x73\145\x74\137\x63\141\143\x68\x65\x5f\167\160\137\x63\x61\143\x68\145\137\144\x65\146\151\x6e\145", $b8HPW); goto wqDdo; m2gFc: $this->getFilesystem()->putContent($D2KXr, $B6fu9); goto u0C6K; jbHoq: $B6fu9 = preg_replace("\x2f\x28\x3c\x5c\77\160\150\x70\51\x2f\x69", "\x3c\77\x70\150\x70\xd\xa{$SWeeO}\xd\xa", $B6fu9); goto GUItS; IgVcY: p9XEb: goto yMtwm; yMtwm: bL7KV: goto cU2zp; evy1z: if (!$rAziL) { goto IeAQc; } goto Hp17a; u0C6K: gNDqP: goto IgVcY; Hp17a: if (!empty($upoja["\166\141\154\165\145"]) && $upoja["\166\141\154\x75\145"] !== $b8HPW) { goto p2YBM; } goto WUpxo; CXDsz: XZTWM: goto m2gFc; zBksQ: $b8HPW = $b8HPW ? "\x74\x72\x75\x65" : "\x66\x61\154\x73\145"; goto R4Xfp; lmW2W: IeAQc: goto jbHoq; WUpxo: goto XZTWM; goto lmW2W; zJs27: if (!$this->shouldSetConstant($b8HPW)) { goto bL7KV; } goto o1SfW; o1SfW: $D2KXr = $this->findWpConfigPath(); goto Vge4Q; oSlIB: if (!(!isset($upoja["\x76\x61\154\x75\x65"]) || $upoja["\x76\x61\154\165\145"] !== $b8HPW)) { goto gNDqP; } goto eZgl1; Vge4Q: if (!$D2KXr) { goto p9XEb; } goto TooAb; yCEuC: p2YBM: goto Y_m3z; Y_m3z: $B6fu9 = preg_replace("\57\x5e\134\x73\52\x64\145\x66\x69\x6e\x65\x5c\50\x5c\163\52\47\127\120\137\103\101\x43\x48\x45\47\134\x73\52\54\x5c\163\52\50\133\136\x5c\163\134\x29\135\52\51\134\x73\x2a\134\x29\x2e\53\57\x6d", $SWeeO, $B6fu9); goto CXDsz; GUItS: goto XZTWM; goto yCEuC; wqDdo: $rAziL = preg_match("\x2f\136\x5c\163\x2a\144\145\146\x69\x6e\145\134\x28\134\x73\x2a\x27\x57\120\x5f\103\x41\103\110\x45\47\134\163\52\54\134\163\x2a\50\x3f\74\166\141\x6c\x75\x65\76\x5b\x5e\x5c\163\134\x29\x5d\52\x29\134\x73\x2a\134\x29\57\155", $B6fu9, $upoja); goto oSlIB; TooAb: $B6fu9 = $this->getFilesystem()->getContent($D2KXr); goto zBksQ; cU2zp: } private function shouldSetConstant($b8HPW) { goto M7o3Q; BIQa5: PVO1k: goto H3xAp; DnOWE: $OaTi2 = false; goto BIQa5; V7942: $OaTi2 = (bool) $this->applyFilters("\157\160\x74\x69\155\x69\172\x61\x74\x69\157\156\x5f\x63\x61\x63\x68\145\137\163\145\x74\x5f\x77\x70\x5f\143\141\x63\x68\145\137\x63\x6f\x6e\x73\164\141\156\164", true); goto Okcaz; Okcaz: goto PVO1k; goto jJiaL; H3xAp: return $OaTi2; goto f8igW; M7o3Q: if (!$this->isUserAllowed() && $b8HPW && Util::getConstant("\127\120\x5f\103\101\103\x48\105")) { goto JzIJ7; } goto V7942; jJiaL: JzIJ7: goto DnOWE; f8igW: } private function findWpConfigPath() { goto rziTv; rziTv: $EOJKs = $this->applyFilters("\157\x70\x74\x69\x6d\151\172\141\x74\x69\x6f\156\x5f\x63\x61\x63\x68\145\x5f\167\160\137\143\157\x6e\146\x69\147\137\x6e\x61\x6d\x65", "\x77\x70\x2d\143\157\x6e\146\151\147"); goto q2arZ; BqOvB: $WCGsd = "{$AUJDV}{$EOJKs}\56\160\150\x70"; goto pjGyx; o1I2f: PbOCd: goto Qp6zg; OgNZu: goto PbOCd; goto aY8PF; q2arZ: $Fqs48 = trailingslashit(Util::getConstant("\101\102\x53\120\x41\x54\x48")); goto MRSFI; pjGyx: if (!($this->getFilesystem()->exists($WCGsd) && $this->getFilesystem()->isWritable($WCGsd) && !$this->getFilesystem()->exists("{$AUJDV}\x77\160\55\163\x65\x74\x74\x69\x6e\147\x73\x2e\x70\150\160"))) { goto zFHnW; } goto gLWuD; aY8PF: imVV0: goto TWnyR; Qp6zg: return $GuTuU; goto Y9JgS; TWnyR: $GuTuU = $wpkb5; goto o1I2f; gLWuD: $GuTuU = $WCGsd; goto wO0iu; IP0R2: if ($this->getFilesystem()->isWritable($wpkb5)) { goto imVV0; } goto CsYiz; T3OTz: $GuTuU = false; goto IP0R2; MRSFI: $wpkb5 = "{$Fqs48}{$EOJKs}\x2e\x70\150\x70"; goto T3OTz; wO0iu: zFHnW: goto OgNZu; CsYiz: $AUJDV = dirname($Fqs48) . DIRECTORY_SEPARATOR; goto BqOvB; Y9JgS: } public function hasPermission() { goto xFz0U; L4oeu: $rskRO = false; goto qf3cL; YdJT2: atVrp: goto j5yYB; j5yYB: return $rskRO; goto i9GxX; jfGHg: $rskRO = true; goto O2PVJ; xFz0U: global $pagenow; goto jfGHg; O2PVJ: if (!($this->isUserAllowed() && !$this->findWpConfigPath() && !Util::getConstant("\x57\120\137\103\x41\103\x48\x45") && !("\160\x6c\x75\x67\x69\x6e\x73\56\160\x68\160" === $pagenow || isset($_GET["\141\143\164\x69\x76\x61\164\x65"])) && (bool) $this->applyFilters("\x63\141\x63\x68\x65\x5f\163\x65\x74\x5f\x77\160\x5f\143\141\x63\x68\x65\137\x63\x6f\x6e\163\x74\x61\156\164", true))) { goto atVrp; } goto L4oeu; qf3cL: Notice::writingPermission("\x63\x61\x63\150\145\x5f\141\x64\x76\141\156\143\145\144\137\x63\141\143\150\x65\137\160\145\162\x6d\151\x73\x73\x69\x6f\156\x73", "\x77\x70\x2d\143\x6f\156\146\151\x67\x2e\x70\x68\x70", __("\x43\x61\143\x68\145", OPTIMIZATION_DOMAIN)); goto YdJT2; i9GxX: } private function isUserAllowed() { return UserUtil::currentCan(); } private function getContent($b8HPW = "\x74\162\165\145") { return "\x64\x65\146\151\156\145\x28\40\x27\127\120\x5f\x43\x41\x43\110\105\x27\54\40{$b8HPW}\40\51\73\x20\57\57\x20\101\144\144\145\144\x20\142\x79\40\117\x70\x74\x69\x6d\x69\x7a\141\164\151\x6f\156"; } public function addStatusTest($UgoCe) { $UgoCe["\x64\x69\x72\145\x63\164"]["\167\x70\x5f\x63\x61\143\150\145\x5f\163\164\141\164\x75\x73"] = ["\154\141\x62\x65\154" => __("\x57\x50\137\x43\101\103\110\x45\40\x76\141\154\165\x65", OPTIMIZATION_DOMAIN), "\x74\145\163\164" => [__CLASS__, "\x63\150\145\x63\153\x56\x61\154\165\145"]]; return $UgoCe; } public function checkValue() { goto Iq4z8; VLk_j: $CRRxp["\x6c\141\x62\x65\x6c"] = __("\127\120\137\103\101\103\110\x45\40\151\x73\x20\163\145\x74\40\164\157\x20\164\162\x75\x65", OPTIMIZATION_DOMAIN); goto hswMR; E8pR9: $CRRxp["\163\x74\141\x74\x75\x73"] = "\143\162\x69\x74\x69\x63\x61\x6c"; goto ICyPN; SlO_3: return $CRRxp; goto N4j4e; N4j4e: KG35l: goto LVMmS; N96y_: return $CRRxp; goto JyrfX; PqK4j: $CRRxp["\x73\x74\141\x74\165\163"] = "\143\x72\x69\x74\151\143\x61\x6c"; goto CN_yw; dC6DZ: $CRRxp["\x6c\x61\142\x65\154"] = __("\x57\x50\x5f\103\x41\x43\110\x45\40\151\x73\40\x6e\157\164\40\163\145\164", OPTIMIZATION_DOMAIN); goto E8pR9; d5GkE: if (!(false === $b8HPW)) { goto KG35l; } goto zT_1o; ICyPN: $CRRxp["\x62\x61\x64\x67\145"]["\143\x6f\x6c\x6f\162"] = "\162\x65\x64"; goto N96y_; lH_jL: if (!(null === $b8HPW)) { goto GEf5O; } goto dC6DZ; B4MUx: return $CRRxp; goto wwbF6; QNzls: $b8HPW = Util::getConstant("\x57\120\x5f\103\x41\x43\110\x45"); goto vNd4B; hswMR: $CRRxp["\x73\x74\x61\x74\x75\x73"] = "\x67\x6f\157\x64"; goto DjIbW; zT_1o: $CRRxp["\154\141\142\x65\x6c"] = __("\127\120\x5f\103\101\103\x48\x45\x20\x69\163\x20\163\145\x74\x20\164\157\x20\x66\x61\154\163\145", OPTIMIZATION_DOMAIN); goto PqK4j; LVMmS: return $CRRxp; goto SZc3d; wwbF6: uJJft: goto lH_jL; vNd4B: if (!(true === $b8HPW)) { goto uJJft; } goto VLk_j; CN_yw: $CRRxp["\x62\x61\144\x67\x65"]["\x63\x6f\154\157\x72"] = "\162\145\x64"; goto SlO_3; Iq4z8: $CRRxp = ["\142\x61\144\x67\145" => ["\x6c\141\x62\145\x6c" => __("\x43\141\143\150\x65", OPTIMIZATION_DOMAIN)], "\144\x65\163\x63\x72\151\x70\164\x69\157\156" => sprintf("\x3c\160\76\x25\163\74\57\x70\x3e", __("\x54\x68\x65\40\x57\x50\137\103\x41\x43\110\x45\40\x63\x6f\x6e\163\x74\141\156\164\x20\156\145\145\x64\x73\40\164\157\x20\x62\x65\40\x73\x65\164\x20\164\x6f\40\x74\162\x75\145\x20\x66\x6f\x72\x20\103\141\143\150\145\x20\x74\157\40\167\157\x72\x6b\x20\160\x72\157\160\145\162\x6c\x79", OPTIMIZATION_DOMAIN)), "\x61\x63\164\151\x6f\x6e\x73" => '', "\x74\145\x73\x74" => "\167\x70\137\143\141\143\x68\145\x5f\x73\x74\x61\x74\165\x73"]; goto QNzls; JyrfX: GEf5O: goto d5GkE; DjIbW: $CRRxp["\x62\141\144\x67\145"]["\143\157\x6c\157\162"] = "\x67\x72\145\145\156"; goto B4MUx; SZc3d: } }
