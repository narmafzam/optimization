<?php
 namespace Optimization\Cache; use Boilerplate\Util\AjaxUtil; use Boilerplate\Util\UserUtil; use Optimization\Notice; class WPCache extends Common { public function addActions() : self { $this->addAction("\x61\x64\x6d\x69\x6e\137\151\x6e\x69\x74", [$this, "\x61\x64\155\x69\x6e\111\x6e\x69\164"])->addAction("\165\160\144\x61\164\145\137\x6f\160\164\151\157\156\137\157\160\164\x69\x6d\x69\x7a\141\x74\x69\x6f\156\137\x73\x65\164\x74\x69\156\147\x73", [$this, "\155\141\x79\142\145\x53\145\164"]); return parent::addActions(); } public function addFilters() : self { $this->addFilter("\163\x69\164\145\x5f\163\164\x61\164\x75\x73\x5f\164\x65\x73\164\163", [$this, "\x61\x64\x64\123\x74\141\164\165\163\x54\145\x73\164"]); return parent::addFilters(); } public function adminInit() { $this->maybeSet(); $this->hasPermission(); } public function maybeSet() { goto RAp_y; lxiPA: $this->setConstant(true); goto p__fR; RAp_y: if (!(!AjaxUtil::isAjax() && !Util::getConstant("\x44\117\x49\116\x47\x5f\x41\125\124\117\x53\x41\x56\x45") && !Util::getConstant("\x57\120\137\103\x41\103\110\x45"))) { goto o3JZ_; } goto lxiPA; p__fR: o3JZ_: goto S_Jhh; S_Jhh: } public function setConstant(bool $b8HPW) { goto gvOdF; qOyTB: $B6fu9 = preg_replace("\57\136\134\x73\52\x64\145\x66\151\156\145\x5c\50\134\x73\52\47\127\120\137\x43\101\103\x48\105\47\134\163\52\54\134\163\52\x28\x5b\136\x5c\163\134\x29\135\x2a\x29\x5c\x73\x2a\x5c\x29\x2e\53\57\155", $SWeeO, $B6fu9); goto rQYZe; AqC0i: rzX06: goto HvUmI; GXyeH: $rAziL = preg_match("\x2f\x5e\x5c\x73\x2a\144\145\146\x69\156\x65\x5c\50\134\x73\x2a\47\127\120\x5f\103\101\103\x48\105\x27\134\163\x2a\54\134\x73\x2a\x28\77\74\166\141\154\165\x65\76\x5b\136\x5c\163\134\51\135\x2a\51\x5c\163\x2a\134\51\x2f\155", $B6fu9, $upoja); goto xdAMZ; Ji8Hr: goto ARKMJ; goto AqC0i; gvOdF: if (!$this->shouldSetConstant($b8HPW)) { goto wJZ2M; } goto exs2h; xdAMZ: if (!(!isset($upoja["\x76\x61\154\x75\x65"]) || $upoja["\x76\x61\154\165\145"] !== $b8HPW)) { goto qJ6nm; } goto Wqp2a; z32yN: if (!$D2KXr) { goto T0sYG; } goto NvOPe; tlXDt: $b8HPW = $b8HPW ? "\164\x72\x75\145" : "\146\141\x6c\x73\145"; goto eleG8; cDdXL: T0sYG: goto Z_3k3; NvOPe: $B6fu9 = $this->getFilesystem()->getContent($D2KXr); goto tlXDt; eleG8: $b8HPW = $this->applyFilters("\157\x70\164\x69\155\x69\172\x61\x74\151\x6f\x6e\137\163\145\x74\x5f\x63\141\x63\x68\145\x5f\x77\x70\x5f\x63\x61\x63\x68\145\x5f\144\145\x66\151\156\145", $b8HPW); goto GXyeH; qnyY0: if (!empty($upoja["\x76\x61\154\x75\145"]) && $upoja["\x76\x61\154\165\145"] !== $b8HPW) { goto QatYS; } goto Ji8Hr; HvUmI: $B6fu9 = preg_replace("\57\50\74\134\x3f\160\x68\x70\51\57\151", "\74\77\x70\x68\x70\15\12{$SWeeO}\xd\xa", $B6fu9); goto xKLPc; Wqp2a: $SWeeO = $this->getContent($b8HPW); goto Nx_On; jbJO1: QatYS: goto qOyTB; lqwbk: qJ6nm: goto cDdXL; exs2h: $D2KXr = $this->findWpConfigPath(); goto z32yN; R2eL0: $this->getFilesystem()->putContent($D2KXr, $B6fu9); goto lqwbk; Z_3k3: wJZ2M: goto nYNdl; xKLPc: goto ARKMJ; goto jbJO1; Nx_On: if (!$rAziL) { goto rzX06; } goto qnyY0; rQYZe: ARKMJ: goto R2eL0; nYNdl: } private function shouldSetConstant($b8HPW) { goto M2em4; TRfAJ: $OaTi2 = false; goto kwOcT; Z0WYc: goto E_yLA; goto Xa8ks; hsbNa: return $OaTi2; goto ZcfFJ; kwOcT: E_yLA: goto hsbNa; M2em4: if (!$this->isUserAllowed() && $b8HPW && Util::getConstant("\x57\120\137\103\x41\103\x48\x45")) { goto hYEJa; } goto f7J8T; f7J8T: $OaTi2 = (bool) $this->applyFilters("\157\x70\x74\151\x6d\x69\x7a\141\164\x69\157\x6e\137\x63\x61\x63\150\x65\x5f\x73\x65\164\137\x77\x70\137\143\x61\x63\x68\x65\137\x63\x6f\156\163\164\x61\156\164", true); goto Z0WYc; Xa8ks: hYEJa: goto TRfAJ; ZcfFJ: } private function findWpConfigPath() { goto OXsIt; k71WU: $GuTuU = $WCGsd; goto foaqa; JFM2M: $Fqs48 = trailingslashit(Util::getConstant("\x41\102\123\120\101\x54\x48")); goto eYNV3; HMbi1: if (!($this->getFilesystem()->exists($WCGsd) && $this->getFilesystem()->isWritable($WCGsd) && !$this->getFilesystem()->exists("{$AUJDV}\167\x70\x2d\x73\145\164\164\151\x6e\x67\163\56\x70\150\160"))) { goto Z75sF; } goto k71WU; UdWsl: return $GuTuU; goto Go_Vq; Yl52k: $AUJDV = dirname($Fqs48) . DIRECTORY_SEPARATOR; goto G_S40; eYNV3: $wpkb5 = "{$Fqs48}{$EOJKs}\56\160\150\x70"; goto GbDUd; G7CEc: $GuTuU = $wpkb5; goto vjjJP; INa3i: goto GEwNp; goto OyZky; OyZky: EToOC: goto G7CEc; foaqa: Z75sF: goto INa3i; OXsIt: $EOJKs = $this->applyFilters("\x6f\160\164\151\x6d\151\172\x61\164\151\157\x6e\x5f\x63\141\143\150\x65\x5f\167\160\x5f\x63\x6f\156\x66\x69\x67\x5f\156\141\155\145", "\167\160\x2d\143\157\156\x66\151\x67"); goto JFM2M; hXHLi: if ($this->getFilesystem()->isWritable($wpkb5)) { goto EToOC; } goto Yl52k; G_S40: $WCGsd = "{$AUJDV}{$EOJKs}\x2e\x70\x68\x70"; goto HMbi1; vjjJP: GEwNp: goto UdWsl; GbDUd: $GuTuU = false; goto hXHLi; Go_Vq: } public function hasPermission() { goto j12fC; oZsvF: Notice::writingPermission("\x63\141\x63\150\x65\x5f\141\144\166\x61\x6e\143\x65\x64\137\143\141\143\150\x65\137\x70\x65\162\155\151\x73\x73\x69\157\156\163", "\167\160\x2d\143\157\x6e\x66\151\147\x2e\x70\150\x70", __("\x43\141\143\x68\145", OPTIMIZATION_DOMAIN)); goto elLo7; elLo7: i1HbU: goto w9ymi; w9ymi: return $rskRO; goto Hvx_l; USC6T: if (!($this->isUserAllowed() && !$this->findWpConfigPath() && !Util::getConstant("\127\x50\x5f\x43\101\103\x48\105") && !("\x70\154\x75\x67\151\156\x73\56\x70\x68\160" === $s3Gek || isset($_GET["\141\x63\164\x69\x76\x61\x74\145"])) && (bool) $this->applyFilters("\x63\x61\143\150\x65\137\x73\145\164\137\x77\160\x5f\143\x61\143\x68\x65\x5f\143\x6f\x6e\163\164\x61\156\x74", true))) { goto i1HbU; } goto KLnSp; ml2CV: $rskRO = true; goto USC6T; j12fC: global $s3Gek; goto ml2CV; KLnSp: $rskRO = false; goto oZsvF; Hvx_l: } private function isUserAllowed() { return UserUtil::currentCan(); } private function getContent($b8HPW = "\x74\x72\165\145") { return "\144\145\146\x69\156\145\x28\x20\47\127\x50\137\103\x41\x43\x48\105\47\x2c\40{$b8HPW}\x20\51\x3b\x20\x2f\57\x20\101\144\x64\x65\144\40\142\171\x20\117\160\164\151\x6d\x69\x7a\x61\164\151\157\156"; } public function addStatusTest($UgoCe) { $UgoCe["\144\151\162\x65\x63\164"]["\x77\160\137\143\141\x63\x68\x65\x5f\x73\164\141\164\x75\x73"] = ["\154\x61\x62\145\x6c" => __("\x57\x50\137\x43\101\x43\110\105\40\166\x61\x6c\x75\145", OPTIMIZATION_DOMAIN), "\x74\x65\x73\164" => [__CLASS__, "\x63\x68\x65\x63\x6b\126\x61\x6c\165\145"]]; return $UgoCe; } public function checkValue() { goto mRBKp; pB7kU: if (!(null === $b8HPW)) { goto S75x6; } goto g51oh; g51oh: $CRRxp["\x6c\141\x62\x65\154"] = __("\127\x50\x5f\x43\x41\x43\x48\x45\x20\151\163\x20\156\x6f\x74\x20\163\145\164", OPTIMIZATION_DOMAIN); goto r3bYx; A5YT1: $CRRxp["\163\164\141\164\x75\x73"] = "\x67\157\x6f\144"; goto APpd3; OUVUj: $b8HPW = Util::getConstant("\x57\x50\x5f\103\x41\103\x48\105"); goto p3uTP; M2dag: $CRRxp["\142\x61\x64\147\x65"]["\143\x6f\x6c\157\x72"] = "\x72\x65\x64"; goto lZIUm; rYwNe: return $CRRxp; goto wSM19; yrVK4: S75x6: goto cxXnh; h0VT3: return $CRRxp; goto LahTt; cxXnh: if (!(false === $b8HPW)) { goto za5wl; } goto bzbTM; bzbTM: $CRRxp["\154\141\142\145\x6c"] = __("\127\120\x5f\103\x41\x43\110\x45\40\x69\x73\x20\163\x65\x74\40\164\x6f\x20\146\141\x6c\163\x65", OPTIMIZATION_DOMAIN); goto oCE9l; TApMg: sa0Q7: goto pB7kU; lZIUm: return $CRRxp; goto yrVK4; APpd3: $CRRxp["\x62\141\144\x67\x65"]["\x63\157\x6c\x6f\162"] = "\147\x72\x65\145\156"; goto V1Syv; V1Syv: return $CRRxp; goto TApMg; Dn_9w: $CRRxp["\x6c\141\142\x65\154"] = __("\x57\120\137\x43\101\x43\x48\105\40\x69\x73\40\x73\x65\x74\x20\x74\x6f\x20\164\162\165\x65", OPTIMIZATION_DOMAIN); goto A5YT1; BD84x: $CRRxp["\142\141\x64\147\145"]["\x63\157\x6c\157\x72"] = "\x72\x65\x64"; goto rYwNe; mRBKp: $CRRxp = ["\x62\x61\x64\x67\145" => ["\x6c\x61\x62\145\x6c" => __("\103\x61\x63\150\x65", OPTIMIZATION_DOMAIN)], "\144\x65\x73\x63\162\151\x70\164\x69\157\x6e" => sprintf("\x3c\160\76\45\x73\74\57\x70\x3e", __("\x54\x68\x65\40\x57\120\x5f\x43\x41\103\110\x45\x20\x63\x6f\156\x73\164\x61\156\x74\40\x6e\x65\x65\144\x73\40\x74\x6f\40\142\x65\40\x73\145\164\40\x74\157\x20\164\162\165\145\x20\x66\x6f\x72\40\103\x61\143\150\145\x20\x74\x6f\40\167\x6f\x72\153\x20\x70\162\157\160\145\x72\x6c\x79", OPTIMIZATION_DOMAIN)), "\x61\x63\x74\x69\157\x6e\x73" => '', "\x74\145\x73\x74" => "\167\x70\137\x63\141\143\x68\x65\137\x73\x74\x61\x74\x75\x73"]; goto OUVUj; p3uTP: if (!(true === $b8HPW)) { goto sa0Q7; } goto Dn_9w; r3bYx: $CRRxp["\163\164\141\x74\x75\x73"] = "\143\x72\151\164\151\143\x61\x6c"; goto M2dag; wSM19: za5wl: goto h0VT3; oCE9l: $CRRxp["\163\164\141\164\165\x73"] = "\x63\x72\x69\164\151\x63\141\154"; goto BD84x; LahTt: } }
